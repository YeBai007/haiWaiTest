window.__require=function t(e,n,a){function o(i,s){if(!n[i]){if(!e[i]){var c=i.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){return o(e[i][1][t]||t)},u,u.exports,t,e,n,a)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<a.length;i++)o(a[i]);return o}({AbroadGameSDK:[function(t,e,n){"use strict";cc._RF.push(e,"3bff2j4ON5In6hy6Lpz7lEi","AbroadGameSDK");var a=this&&this.__awaiter||function(t,e,n,a){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function i(t){try{c(a.next(t))}catch(t){r(t)}}function s(t){try{c(a.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(i,s)}c((a=a.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(t){r=[6,t],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AbroadGameSDK=void 0;var r=function(){function t(){}return t.gameOver=function(e){return a(this,void 0,void 0,function(){var n,a,r,i,s,c;return o(this,function(o){switch(o.label){case 0:return n=[],cc.director.once(cc.Director.EVENT_AFTER_DRAW,function(){var t=cc.game.canvas;n.push(t.toDataURL("image/jpeg"))}),[4,t.sleep(500)];case 1:for(o.sent(),a=0,r=e.length,i=[],s=0;s<r;s++)1==e[s]?(a++,i.push(1)):i.push(0);return c={detail:{resultDetail:{rightNum:a,questionSum:r,answerPics:n}},judge:i},console.log("msg:","game_over"),console.log(c),window.parent.postMessage({type:"score",scoreData:c},"*"),[2]}})})},t.sleep=function(t){return new Promise(function(e){return setTimeout(e,t)})},t.register=function(){cc.game.on("GameSDK-gameOver",t.gameOver)},t}();n.AbroadGameSDK=r,window.AbroadGameSDK=r,cc._RF.pop()},{}],ActionSyncManager:[function(t,e,n){"use strict";cc._RF.push(e,"0aa3d/WUEpA+pmyIU++Lmcz","ActionSyncManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.actionSyncManager=n.ActionSyncType=void 0;var a=t("./protocol"),o=function(){function t(){}return t.TOUCH_START="TOUCH_START",t.TOUCH_MOVE="TOUCH_MOVE",t.TOUCH_END="TOUCH_END",t.TOUCH_CANCLE="TOUCH_CANCLE",t.TOUCH_CLICK="TOUCH_CLICK",t}();n.ActionSyncType=o;var r=function(){function t(){this.teaching=!0,this.selfPlaying=!1,this.sliceId=0,this.lastSliceId=0,this.listMsg=new Array,this.lastTime=0,this.canSend=!0}return t.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.registListener()),this._instance},t.prototype.get_role=function(){return this.getURLparam("role")},t.prototype.getURLparam=function(t){var e=location.href.split("?");if(e.length<2)return null;for(var n=e[1].split("&"),a=0;a<n.length;a++)if(0===n[a].indexOf(t+"="))return n[a].substring(t.length+1);return null},t.prototype.syncData=function(t,e){void 0===e&&(e=!0),this.postMessage(t,a.GameEvent.SendSyncData,e)},t.prototype.registListener=function(){var t=this;"teacher"==this.get_role()?(cc.game.on("touch_action",function(e){if(t.teaching){var n={touch_event:JSON.parse(e)};t.syncData(n,!0)}else console.log("not teaching")}),cc.game.on("sync_data",function(e){var n={status:e};t.syncData(n,!0)})):cc.game.on("req_sync_data",function(e){console.log("req_sync_data");t.syncData({request_sync:{msg:1}},!1)}),window.addEventListener("message",function(e){var n=e.data;if(n.type!=a.GameCommand.RecvSyncData&&"getTransferReport"!=n.type)return console.log("not recv_sync_data "),void console.log(n);if(n.data){var o=n.data;if("teacher"==t.get_role())o.request_sync&&cc.game.emit("recv_student_req",o.request_sync);else{if(o.request_sync)return;if(t.lastSliceId&&o.sliceId-t.lastSliceId!=1)return void t.stageMsg(o);var r=o.sliceId;if(o.touch_event){var i=o.touch_event;t.handleTouchEvent(i)}else cc.game.emit("recv_msg",o);t.lastSliceId=r,t.checkStageMsg()}}else console.log("data.data is null")})},t.prototype.stageMsg=function(t){var e=t.sliceId;console.error("\u51fa\u73b0\u4e0d\u8fde\u7eed\u6d88\u606f sliceId = ",e),this.listMsg.push(t),this.listMsg.sort(function(t,e){return t.sliceId>e.sliceId?1:-1})},t.prototype.checkStageMsg=function(){for(;this.listMsg.length>0;){if(this.lastSliceId+1!=this.listMsg[0].sliceId){this.listMsg.length>1e3&&(this.lastSliceId=this.listMsg[0].sliceId-1),console.error("\u6d88\u606f\u7f3a\u5931\u4e2d... sliceId = ",this.lastSliceId+1);break}var t=this.listMsg.shift().touch_event;this.handleTouchEvent(t),++this.lastSliceId,console.error("\u5904\u7406\u9519\u4e71\u6ede\u7559\u6d88\u606f sliceId = ",this.lastSliceId)}},t.prototype.handleTouchEvent=function(t){for(var e={_touches:[],_eventCode:t._eventCode},n=0;n<t._touches.length;n++){var a=t._touches[n],o=new cc.Touch;o.setTouchInfo(a._id,a._point.x,a._point.y),o._setPrevPoint(a._prevPoint.x,a._prevPoint.y),o._startPoint=cc.v2(a._startPoint.x,a._startPoint.y),e._touches.push(o)}cc.game.emit("receive_action",e)},t.prototype.postMessage=function(t,e,n){void 0===e&&(e=a.GameEvent.SendSyncData);var o=this.getURLparam("groupId")||"123";if(o){var r=Date.now(),i=r-this.lastTime;if(t.touch_event&&1==t.touch_event._eventCode){if(i<1/15*1e3)return;this.lastTime=r}n&&(this.sliceId++,t.sliceId=this.sliceId);var s={type:e,groupId:o,data:t};console.log("post messge ",s),window.parent.postMessage(s,"*")}else console.log("no groupId")},t.prototype.init=function(t,e,n){var a=this;cc.game.on("recv_msg",function(e){if(e.status){var a=e.status;t.bind(n)(a)}}),cc.game.on("recv_student_req",function(){console.log("recv_student_req"),cc.game.emit("sync_data",e.bind(n)())}),setTimeout(function(){a.updateInterval=setInterval(function(){a.canSend&&cc.game.emit("sync_data",e.bind(n)())},3e3)},3e3)},t.prototype.destroy=function(){clearInterval(this.updateInterval)},t.prototype.studentReady=function(){cc.game.emit("req_sync_data")},t._instance=null,t}().getInstance();n.actionSyncManager=r,window.actionSyncManager=r,cc._RF.pop()},{"./protocol":"protocol"}],AdaptiveScreen:[function(t,e,n){"use strict";cc._RF.push(e,"ba00bud/zlDiY6tClWPdHIa","AdaptiveScreen");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.viewWidth=640,e.viewHeight=1136,e}return a(e,t),e.prototype.onLoad=function(){this.screenAdapter()},e.prototype.start=function(){this.viewUp()},e.prototype.screenAdapter=function(){if(cc.Canvas.instance){this.stage=cc.Canvas.instance.node;var t=cc.Canvas.instance,e=cc.view.getFrameSize();e.width/e.height<t.designResolution.width/t.designResolution.height?(t.fitWidth=!0,t.fitHeight=!1):(t.fitHeight=!0,t.fitWidth=!1)}},e.prototype.viewUp=function(){var t=cc.winSize,e=t.width/this.viewWidth,n=t.height/this.viewHeight;this.bgNode.scale=1*Math.max(e,n)},o([s({type:cc.Node,tooltip:"\u5168\u5c4f\u80cc\u666f\u56fe\u7247\uff0c\u7528\u4e8e\u81ea\u9002\u5e94"})],e.prototype,"bgNode",void 0),o([s],e.prototype,"viewWidth",void 0),o([s],e.prototype,"viewHeight",void 0),e=o([i],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],AffirmTips:[function(t,e,n){"use strict";cc._RF.push(e,"67e25WAGoRADq1zkpxqqwdF","AffirmTips");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.AffirmTips=void 0;var r=t("../../Data/FrameMsgType"),i=t("../../SDK/T2M"),s=t("../../Utils/UIHelp"),c=t("../BaseFrameUI"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeDes=null,e.title=null,e.des=null,e.close=null,e.ok=null,e.btnCloseLabel=null,e.btnOkLabel=null,e.win=null,e.fail=null,e.callback=null,e}return a(e,t),e.prototype.start=function(){i.T2M.addSyncEventListener(r.FrameMsgType.AFFIRMTIPS_SURE,this.disposeOk.bind(this)),i.T2M.addSyncEventListener(r.FrameMsgType.AFFIRMTIPS_CANCEL,this.disposeCancel.bind(this))},e.prototype.init=function(t,e,n,a,o){this.title.node.active=!1,this.des.node.active=!0,this.win.active=1==t,this.fail.active=2==t,this.type=t,this.callback=n,this.des.string=e,a&&(this.btnCloseLabel.string=a),o&&(this.btnOkLabel.string=o)},e.prototype.setOnlyOneBtnType=function(t){this.close.node.active=!1,this.ok.node.active=!0,this.ok.node.position=cc.v3(0,this.ok.node.position.y,0),t&&(this.btnOkLabel.string=t,t.length>4&&(this.btnOkLabel.fontSize=40))},e.prototype.OnClickClose=function(){},e.prototype.TipsAnimatorScale=function(t){t.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.2,1,1));t.runAction(e)},e.prototype.OnClickOk=function(){console.log("\u786e\u8ba4"),i.T2M.dispatch(r.FrameMsgType.AFFIRMTIPS_SURE,null)},e.prototype.OnClickCancel=function(){console.log("\u53d6\u6d88"),i.T2M.dispatch(r.FrameMsgType.AFFIRMTIPS_CANCEL,null)},e.prototype.disposeOk=function(){s.UIHelp.closeAffirmTip(),this.callback&&this.callback(1)},e.prototype.disposeCancel=function(){s.UIHelp.closeAffirmTip(),this.callback&&this.callback(0)},e.className="AffirmTips",o([p(cc.Node)],e.prototype,"NodeDes",void 0),o([p(cc.Label)],e.prototype,"title",void 0),o([p(cc.Label)],e.prototype,"des",void 0),o([p(cc.Button)],e.prototype,"close",void 0),o([p(cc.Button)],e.prototype,"ok",void 0),o([p(cc.Label)],e.prototype,"btnCloseLabel",void 0),o([p(cc.Label)],e.prototype,"btnOkLabel",void 0),o([p(cc.Node)],e.prototype,"win",void 0),o([p(cc.Node)],e.prototype,"fail",void 0),e=o([u],e)}(c.default);n.AffirmTips=h,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../SDK/T2M":"T2M","../../Utils/UIHelp":"UIHelp","../BaseFrameUI":"BaseFrameUI"}],AudioPlayExtension:[function(t,e,n){"use strict";cc._RF.push(e,"f5171dGpWFGFZGEuFaQdUkt","AudioPlayExtension"),Object.defineProperty(n,"__esModule",{value:!0}),n.AudioPlayExtension=void 0;var a=t("./../Manager/SoundManager"),o={"\u4f8b":"sfx_buttn","\u5b50":"sfx_error"},r=function(){function t(){}return t.playJoinAudio=function(t,e){if(0==t.length)return console.warn("playJoinAudio : \u5185\u5bb9\u4e3a\u7a7a!"),void e();var n=0;(function r(){if(n>t.length-1)return console.log("'"+t+"' \u64ad\u653e\u5b8c\u6210."),void e();a.SoundManager.playEffect(o[t[n]],!1,!1,!1,r),n++})()},t}();n.AudioPlayExtension=r,cc._RF.pop()},{"./../Manager/SoundManager":"SoundManager"}],BaseFrameUI:[function(t,e,n){"use strict";cc._RF.push(e,"c6fa1aRp8dNq6gX3GwD9kTX","BaseFrameUI");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/FrameConstValue"),i=t("./BaseUI"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.getUrl=function(){return cc.log(this.className),r.FrameConstValue.FRAME_PREFAB_PANEL_DIR+this.className},e.isFramePanel=!0,e=o([c],e)}(i.BaseUI));n.default=l,cc._RF.pop()},{"../Data/FrameConstValue":"FrameConstValue","./BaseUI":"BaseUI"}],BaseGamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"f1694s8BidGvaCpzhIeiAbf","BaseGamePanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../game/scripts/Data/ConstValue"),i=t("../../../../game/scripts/Manager/EditorManager"),s=t("../../Data/FrameMsgType"),c=t("../../Http/NetWork"),l=t("../../Manager/ListenerManager"),u=t("../../Manager/ReportManager"),p=t("../../Manager/SoundManager"),h=t("../../Manager/SyncDataManager"),f=t("../../SDK/GameMsg"),d=t("../../SDK/T2M"),y=t("../../Utils/UIHelp"),g=t("../BaseUI"),_=t("../../AbroadSDK/ActionSyncManager"),v=cc._decorator,m=v.ccclass,S=(v.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){_.actionSyncManager.init(this.onRecovery,this.serialize,this)},e.prototype.onRecovery=function(t){h.SyncDataManager.syncData.frameSyncData.isGameOver||this.isObjectValueEqual(this.serialize(),t)||l.ListenerManager.dispatch(s.FrameMsgType.ON_RECOVERY_DATA,t)},e.prototype.serialize=function(){return h.SyncDataManager.getSyncData()},e.prototype.start=function(){if(f.default.gameStart(),this.addSDKEventListener(),y.UIHelp.showRecoverMask(),r.ConstValue.IS_TEACHER)this.setPanel(),y.UIHelp.showUploadAndReturnPanel();else{this.data.node.parent.removeChild(this.data.node);i.EditorManager.setData({isStarCount:!0,isReplay:!1,replayCount:1,isPlayTitle:!1}),this.setPanel()}},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),y.UIHelp.closeMask()},e.prototype.setPanel=function(){f.default.get_is_sync(c.NetWork.setIsSync),f.default.get_role(c.NetWork.setIsTeacher),d.T2M.init(),h.SyncDataManager.initSyncData(),u.ReportManager.initReportData(i.EditorManager.getLevelCount()),c.NetWork.isSync&&!c.NetWork.isTeacher||y.UIHelp.closeRecoverMask(),i.EditorManager.editorData.isStarCount?cc.resources.load("prefab/ui/panel/OverTips"):cc.resources.load("prefab/ui/panel/StarCount")},e.prototype.onRecoveryData=function(t){h.SyncDataManager.setSyncData(t),h.SyncDataManager.syncData.frameSyncData.isGameOver&&this.showGameOverPanel()},e.prototype.answerRight=function(t){u.ReportManager.reportLevelResult(!0,t)},e.prototype.answerWrong=function(t){void 0===t&&(t=!1),u.ReportManager.reportLevelResult(!1,t)},e.prototype.gameOver=function(){h.SyncDataManager.syncData.frameSyncData.isGameOver=!0,this.showGameOverPanel()},e.prototype.showGameOverPanel=function(){y.UIHelp.showMask(),p.SoundManager.stopAll();var t=i.EditorManager.editorData.isReplay&&h.SyncDataManager.syncData.frameSyncData.hasReplayCount<i.EditorManager.editorData.replayCount;if(i.EditorManager.editorData.isStarCount)y.UIHelp.showStarCount(t);else{var e=1===i.EditorManager.getLevelCount()?"\u6311\u6218\u6210\u529f":"\u95ef\u5173\u6210\u529f";y.UIHelp.showOverTips(2,"",null,e,t)}},e.prototype.onReplay=function(){y.UIHelp.closeOverTips(),y.UIHelp.closeStarCount(),h.SyncDataManager.replay(),u.ReportManager.replayGame()},e.prototype.addSDKEventListener=function(){f.default.addEvent(s.FrameMsgType.STOP,this.onSDKMsgStopReceived.bind(this)),l.ListenerManager.on(s.FrameMsgType.ON_RECOVERY_DATA,this.onRecoveryData,this),d.T2M.addSyncEventListener(s.FrameMsgType.REPLAY_START,this.onReplay.bind(this))},e.prototype.getNet=function(){var t=this;c.NetWork.httpRequest(c.NetWork.GET_QUESTION+"?courseware_id="+c.NetWork.coursewareId,"GET","application/json;charset=utf-8",function(e,n){if(!e){var a=n;if(Array.isArray(a.data))return;var o=JSON.parse(a.data.courseware_content);if(null!=o){if(o.CoursewareKey!=r.ConstValue.CoursewareKey)return f.default.differntKey("CoursewareKey\u9519\u8bef\uff01"),void y.UIHelp.showErrorPanel("CoursewareKey\u9519\u8bef,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a");i.EditorManager.setData(o.data),t.setPanel()}}},null)},e.prototype.onSDKMsgStopReceived=function(){f.default.gameStop(),u.ReportManager.reportGameOver(),f.default.finished()},e.prototype.update=function(t){d.T2M.update()},e.prototype.isObjectValueEqual=function(t,e){if(t===e)return!0;var n=Object.getOwnPropertyNames(t),a=Object.getOwnPropertyNames(e);if(n.length!==a.length)return!1;for(var o in t){if(!e.hasOwnProperty(o))return!1;if("object"==typeof t[o]){if(!this.isObjectValueEqual(t[o],e[o]))return!1}else if(t[o]!==e[o])return!1}return!0},e.className="BaseGamePanel",e=o([m],e)}(g.BaseUI));n.default=S,cc._RF.pop()},{"../../../../game/scripts/Data/ConstValue":"ConstValue","../../../../game/scripts/Manager/EditorManager":"EditorManager","../../AbroadSDK/ActionSyncManager":"ActionSyncManager","../../Data/FrameMsgType":"FrameMsgType","../../Http/NetWork":"NetWork","../../Manager/ListenerManager":"ListenerManager","../../Manager/ReportManager":"ReportManager","../../Manager/SoundManager":"SoundManager","../../Manager/SyncDataManager":"SyncDataManager","../../SDK/GameMsg":"GameMsg","../../SDK/T2M":"T2M","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI"}],BaseTeacherPanel:[function(t,e,n){"use strict";cc._RF.push(e,"87818Dli8JHk4taZSHeRBG9","BaseTeacherPanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../game/scripts/Data/ConstValue"),i=t("../../../../game/scripts/Manager/EditorManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),l=t("../BaseUI"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.data.node.parent.removeChild(this.data.node),this.getNet()},e.prototype.setPanel=function(){},e.prototype.getNet=function(){var t=this;s.NetWork.httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.titleId,"GET","application/json;charset=utf-8",function(e,n){if(console.log("\u6d88\u606f\u8fd4\u56de"+n),!e){var a=n;if(Array.isArray(a.data))return void t.setPanel();var o=JSON.parse(a.data.courseware_content);if(s.NetWork.coursewareId=a.data.courseware_id,s.NetWork.empty)t.ClearNet();else if(null!=o){if(o.CoursewareKey!=r.ConstValue.CoursewareKey)return void c.UIHelp.showErrorPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.titleId,"","","\u786e\u5b9a");i.EditorManager.setData(o.data),t.setPanel()}else t.setPanel()}},null)},e.prototype.ClearNet=function(){var t={courseware_id:s.NetWork.coursewareId};s.NetWork.httpRequest(s.NetWork.CLEAR,"POST","application/json;charset=utf-8",function(t,e){t||c.UIHelp.showTip("\u7b54\u6848\u5220\u9664\u6210\u529f")},JSON.stringify(t))},e.className="BaseTeacherPanel",e=o([p],e)}(l.BaseUI));n.default=h,cc._RF.pop()},{"../../../../game/scripts/Data/ConstValue":"ConstValue","../../../../game/scripts/Manager/EditorManager":"EditorManager","../../Http/NetWork":"NetWork","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI"}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"c6da4j3MGhPfIxwls9tY6iS","BaseUI");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseUI=void 0;var r=t("../Data/FrameConstValue"),i=t("../Manager/ListenerManager"),s=t("./BindNode"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},set:function(t){this.mData=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),e.getUrl=function(){return cc.log(this.className),r.FrameConstValue.PREFAB_PANEL_DIR+this.className},e.prototype.onDestroy=function(){i.ListenerManager.removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",e.isFramePanel=!1,e=o([l],e)}(s.default));n.BaseUI=u,cc._RF.pop()},{"../Data/FrameConstValue":"FrameConstValue","../Manager/ListenerManager":"ListenerManager","./BindNode":"BindNode"}],BindNode:[function(t,e,n){"use strict";cc._RF.push(e,"65374G80ONGaJ+/vbcxCejv","BindNode");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator.ccclass,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return a(e,t),n=e,e.prototype.__preload=function(){this.bindNode(this.node,this)},e.prototype.bindNode=function(t,e){if(t&&e)for(var a=[t],o=0;t;){var r=t.name;"_"!==r[0]||e[r]||(e[r]=t);var i=t.getComponent(n);0!==o&&i||(a=a.concat(t.children)),t=a[++o]}},e=n=o([r],e)}(cc.Component);n.default=i,cc._RF.pop()},{}],BoundingBoxDemo:[function(t,e,n){"use strict";cc._RF.push(e,"d5f9dT/06tF45iF1u1hFPMw","BoundingBoxDemo");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./BoundingBoxHelp"),i=cc._decorator,s=i.ccclass,c=i.property;(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bbh=null,e.grs=null,e}a(e,t),e.prototype.update=function(t){this.grs.clear();var e=this.bbh.getBoundingBoxWorldPositions("boundingBox");this.polygon(this.grs,e),this.grs.stroke()},e.prototype.polygon=function(t,e){if(!(e.length<3)){t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.lineTo(e[0].x,e[0].y)}},o([c(r.default)],e.prototype,"bbh",void 0),o([c(cc.Graphics)],e.prototype,"grs",void 0),e=o([s],e)})(cc.Component);cc._RF.pop()},{"./BoundingBoxHelp":"BoundingBoxHelp"}],BoundingBoxHelp:[function(t,e,n){"use strict";cc._RF.push(e,"d28fa0BmSFGwY3HLHVIrT8f","BoundingBoxHelp");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.vertices=[],e.positions=[],e}return a(e,t),e.prototype.getSkeleton=function(){return null==this.skeleton&&(this.skeleton=this.node.getComponent(sp.Skeleton)),this.skeleton},e.prototype.getBoundingBoxWorldPositions=function(t){var e=this.getSkeleton();if(null==e)return console.warn("\u6ca1\u6709Spine\u8d44\u6e90\uff01"),this.positions;var n=e.findSlot(t);if(!n)return console.warn("\u6ca1\u6709\u627e\u5230\u63d2\u69fd\uff1a "+t),this.positions;var a=n.attachment;a.computeWorldVertices(n,0,a.worldVerticesLength,this.vertices,0,2);for(var o=0;o<this.vertices.length;o+=2)this.positions[o/2]||(this.positions[o/2]=cc.Vec2.ZERO),this.positions[o/2].x=this.vertices[o],this.positions[o/2].y=this.vertices[o+1];for(o=0;o<this.positions.length;o++)this.positions[o]=this.node.convertToWorldSpaceAR(this.positions[o]);return this.positions},e.prototype.getBoundingBoxRelativePositions=function(t,e){for(var n=this.getBoundingBoxWorldPositions(t),a=0;a<n.length;a++)n[a]=e.convertToNodeSpaceAR(n[a]);return n},e=o([i],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],ConstValue:[function(t,e,n){"use strict";cc._RF.push(e,"b2ee0BC2l1Pp47nuM279OIO","ConstValue"),Object.defineProperty(n,"__esModule",{value:!0}),n.ConstValue=void 0;var a=function(){function t(){}return t.IS_EDITIONS=!1,t.IS_TEACHER=!1,t.CoursewareKey="BingGanBianBianBian_ZhaoZhaoYin",t.GameName="2021_\u5927\u79cb2_\u997c\u5e72\u53d8\u53d8\u53d8\u7684\u89c4\u5f8b",t}();n.ConstValue=a,cc._RF.pop()},{}],CustomData:[function(t,e,n){"use strict";cc._RF.push(e,"50595SQVvdKWqjvU5hH6dwR","CustomData"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameType=n.Sounds=n.ActionTypes=n.GameInfo=void 0;var a=function(){function t(){}return t.GAME_NAME="\u8d85\u7ea7\u53d8\u53d8\u53d8",t.GAME_DETAIL="\u5927\u79cb2\u8bb2\u505a3",t.QUES_INFOS=["\u8d85\u7ea7\u53d8\u53d8\u53d8"],t.IS_LEVEL=!1,t.LEVEL_NUM=0,t}();n.GameInfo=a,function(t){t.COMMIT_START="commitStart",t.COMMIT_END="commitEnd",t.TOUCH_START="touchStart",t.TOUCH_MOVE="touchMove",t.TOUCH_END="touchEnd",t.HORN_CLICK="hornClick",t.CHECK_REMOTE_PORT="checkRemotePort"}(n.ActionTypes||(n.ActionTypes={})),function(t){t.TITLE_SND_1="sound_title",t.TIP_SND_1="t_1",t.ADSORB_SND="sfx_clckblck",t.SCENE_ENTER_SND="sfx_move",t.SHOW_GEAR_SND="str_2002",t.SHOW_TIP_SND="sfx_0026",t.FLUSH_SND="sfx_flush",t.COMPLETED_SND="sfx_geupgrd",t.BACK_MUSIC="bgm_4075_short",t.LEVEL_COMPLETE_SND="sfx_levelOver"}(n.Sounds||(n.Sounds={})),function(t){t[t.BLUE_STAR=1]="BLUE_STAR",t[t.WHITE_STAR=2]="WHITE_STAR",t[t.NUll_STAR=0]="NUll_STAR"}(n.GameType||(n.GameType={})),cc._RF.pop()},{}],CustomSyncData:[function(t,e,n){"use strict";cc._RF.push(e,"f6665ym0IlJNYKq4da/THmw","CustomSyncData"),Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSyncData=n.GameType=void 0,function(t){t[t.BLUE_STAR=1]="BLUE_STAR",t[t.WHITE_STAR=2]="WHITE_STAR",t[t.NUll_STAR=0]="NUll_STAR"}(n.GameType||(n.GameType={}));var a=function(){function t(){this.curLevel=0,this.myAnswers=[],this.arr_IsVisibleStar=[],this.arr_IsVisibleArrows=[],this.bool_isOver=!1}return t.prototype.replay=function(){},t}();n.CustomSyncData=a,cc._RF.pop()},{}],EditorManager:[function(t,e,n){"use strict";cc._RF.push(e,"64363RgvXdCJJdpexRQv89P","EditorManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.EditorManager=void 0;var a=function(){return function(){this.isStarCount=!0,this.isReplay=!0,this.isAutoSound=!0,this.replayCount=1}}(),o=function(){function t(){this.editorData=new a,this._levelCount=1,this._coursewareLevel=0}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.getLevelCount=function(){return this._levelCount},t.prototype.setLevelCount=function(t){this._levelCount=t},t.prototype.getCoursewareLevel=function(){return this._coursewareLevel},t.prototype.getData=function(){return this.editorData},t.prototype.setData=function(t){this.editorData=t},t}();n.EditorManager=o.getInstance(),cc._RF.pop()},{}],ErrorPanel:[function(t,e,n){"use strict";cc._RF.push(e,"78373xfPadEJ5IFn4sizh3z","ErrorPanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Utils/UIHelp"),i=t("./../../Manager/SoundManager"),s=t("./../../SDK/GameMsg"),c=t("./../BaseFrameUI"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biaoTi=null,e.shuoMing=null,e.tiShi=null,e.btnLab=null,e.btn=null,e.isClose=!1,e}return a(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.setPanel=function(t,e,n,a,o,r){void 0===r&&(r=!1);var c={shuoMing:t,biaoTi:e,tiShi:n};s.default.warn("ErrorPanelLog",c),i.SoundManager.playEffect("sfx_error",!1),this.shuoMing.string=t,this.isClose=r,this.callback=o,this.biaoTi.string=e||this.biaoTi.string,this.tiShi.string=n||this.tiShi.string,this.btnLab.string=a||this.btnLab.string,this.btn.interactable=this.isClose},e.prototype.onBtnClick=function(){i.SoundManager.playEffect("sfx_buttn",!1),this.callback&&this.callback(),this.isClose&&r.UIHelp.closeErrorPanel()},e.className="ErrorPanel",o([p(cc.Label)],e.prototype,"biaoTi",void 0),o([p(cc.Label)],e.prototype,"shuoMing",void 0),o([p(cc.Label)],e.prototype,"tiShi",void 0),o([p(cc.Label)],e.prototype,"btnLab",void 0),o([p(cc.Button)],e.prototype,"btn",void 0),e=o([u],e)}(c.default);n.default=h,cc._RF.pop()},{"../../Utils/UIHelp":"UIHelp","./../../Manager/SoundManager":"SoundManager","./../../SDK/GameMsg":"GameMsg","./../BaseFrameUI":"BaseFrameUI"}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"9d48b48sqpEdozOnbOcVCAB","EventType"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,(n.EventType||(n.EventType={})).ON_BUTTON_CLICKED="ON_BUTTON_CLICKED",cc._RF.pop()},{}],FrameConstValue:[function(t,e,n){"use strict";cc._RF.push(e,"431c7WvXqpPsYjqV8+W1/t4","FrameConstValue"),Object.defineProperty(n,"__esModule",{value:!0}),n.FrameConstValue=void 0;var a=function(){function t(){}return t.FRAME_PREFAB_PANEL_DIR="prefab/panel/",t.FRAME_AUDIO_DIR="audios/",t.CONFIG_FILE_DIR="config/",t.PREFAB_PANEL_DIR="prefab/ui/panel/",t.GAME_AUDIO_DIR="audios/",t}();n.FrameConstValue=a,cc._RF.pop()},{}],FrameMsgType:[function(t,e,n){"use strict";cc._RF.push(e,"132eegjAf1ENIev+X8ptATq","FrameMsgType"),Object.defineProperty(n,"__esModule",{value:!0}),n.FrameMsgType=void 0;var a=function(){function t(){}return t.ON_EDIT_STATE_SWITCHING="ON_EDIT_STATE_SWITCHING",t.ON_TOUCH_CLICK="ON_TOUCH_CLICK",t.ON_TOUCH_START="ON_TOUCH_START",t.ON_TOUCH_MOVE="ON_TOUCH_MOVE",t.ON_TOUCH_END="ON_TOUCH_END",t.ON_HEART_BREAK="ON_HEART_BREAK",t.ON_RECOVERY_DATA="ON_RECOVERY_DATA",t.REPLAY_START="REPLAY_START",t.COMPLETE_TRUMPET="COMPLETE_TRUMPET",t.ON_MASK="ON_MASK",t.MASK_RECOVER="MASK_RECOVER",t.OVERTIPS_CLOSE="OVERTIPS_CLOSE",t.AFFIRMTIPS_SURE="AFFIRMTIPS_SURE",t.AFFIRMTIPS_CANCEL="AFFIRMTIPS_CANCEL",t.ON_FIRST_BREAK="ON_FIRST_BREAK",t.ACTION_SYNC_RECEIVE="action_sync_receive",t.DISABLED="disabled",t.RELOAD="reload",t.DATA_RECOVERY="data_recovery",t.STOP="stop",t.INIT="init",t.THRESHHOLD="threshhold",t.PLAYBGM="play_bgm",t.RESUMEBGM="resume_bgm",t.STOPBGM="stop_bgm",t.PLAYAUDIOTITLE="play_audio_title",t.STOPAUDIOTITLE="stop_audio_title",t.STOPALLAUDIO="stop_all_audio",t.STOPALLEFFECT="stop_all_effect",t.STOPALL="stop_all",t}();n.FrameMsgType=a,cc._RF.pop()},{}],FrameSyncData:[function(t,e,n){"use strict";cc._RF.push(e,"98b4e33oG1P47hj2twQ6/jN","FrameSyncData"),Object.defineProperty(n,"__esModule",{value:!0}),n.FrameSyncData=void 0;var a=function(){return function(){this.actionId=0,this.isDispose=!0,this.hasReplayCount=0,this.isGameOver=!1}}();n.FrameSyncData=a,cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"5f64dm/KQJFYqngJrAjCbrs","GameData"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogicData=n.GameData=void 0;var a=function(){function t(){this.gameComplete=!1,this._num_SendDataTime=0}return Object.defineProperty(t.prototype,"num_SendDataTime",{get:function(){return this._num_SendDataTime},set:function(t){this._num_SendDataTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logicData",{get:function(){return this._logicData},set:function(t){this._logicData=t},enumerable:!1,configurable:!0}),t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.GameData=a;var o=function(){return function(){this.num_id=0,this.cur_Level=0,this.curInputIndex=0,this.arr_InputAnswer=[],this._list_tryCounts=[],this.num_restartCount=0,this.bool_isShowOverTips=!1,this.num_tryCounts=0,this.bool_isOver=!1,this.is_Input=!1}}();n.LogicData=o,cc._RF.pop()},{}],GameMain:[function(t,e,n){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","GameMain");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain=void 0;var r=cc._decorator,i=r.ccclass;r.property;cc.macro.ENABLE_WEBGL_ANTIALIAS=!0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){var t=document.getElementById("loading-full");t&&(t.style.display="none"),cc.macro.ENABLE_MULTI_TOUCH=!1},e=o([i],e)}(cc.Component);n.GameMain=s,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"51cedVLm+hIt4MvfmM8Nj59","GameManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameManager=void 0;var a=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},t._instance=null,t}();n.GameManager=a.getInstance(),cc._RF.pop()},{}],GameMsg:[function(t,e,n){"use strict";cc._RF.push(e,"835ffTMXMRIv6YdlX4iSt2f","GameMsg"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.addEvent=function(t,e){},t.resLoadStart=function(e,n){t.resLoadStartLog(),t.request_res_load_start("")},t.resLoading=function(e){t.res_load_process(e)},t.resLoadEnd=function(){t.resLoadEndLog(),t.request_res_load_end("")},t.gameStart=function(){t.gameMsg_gameStart(),t.iframe_game_start()},t.answerSyncSend=function(e){t.gameLevelReport(e)},t.gameOver=function(e){t.gameOverReport(e)},t.gameStatisticData=function(t){},t.finished=function(){},t.send_sync_data=function(t){},t.recv_sync_data=function(t){},t.get_is_sync=function(t){},t.get_role=function(t){},t.recv_json_data=function(t){},t.request_json_data=function(t){},t.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.URLError=function(t){},t.httpTimeOut=function(t){},t.httpError=function(t){},t.differntKey=function(t){},t.gameStop=function(){},t.send_sync_3s_data=function(t){},t.recv_sync_3s_data=function(t){},t.recv_keep_playing=function(t){},t.request_keep_playing=function(t){},t.recv_restart=function(t){},t.request_restart_over=function(t){void 0===t&&(t="")},t.request_event_ready=function(t){void 0===t&&(t="")},t.recv_is_master=function(t){},t.request_sync_init=function(t){void 0===t&&(t="")},t.request_level_info=function(t){},t.get_is_preload=function(t){},t.recv_show_gamePanel=function(t){},t.recv_hide_gamePanel=function(t){},t.request_res_load_start=function(t){},t.res_load_process=function(t){},t.request_res_load_end=function(t){},t.request_engine_load_start=function(t){},t.request_engine_load_end=function(t){},t.iframe_game_start=function(){this.b_init||(this.b_init=!0,t.iframeMsg_gameStart())},t.resLoadStartLog=function(){},t.resLoadEndLog=function(){},t.gameMsg_gameStart=function(){},t.iframeMsg_gameStart=function(){},t.gameLevelReport=function(t){},t.gameOverReport=function(t){},t.b_init=!1,t}();n.default=a,cc._RF.pop()},{}],GamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"246c2OOkGlKHoa6ZJOVEHI+","GamePanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},r=this&&this.__awaiter||function(t,e,n,a){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function i(t){try{c(a.next(t))}catch(t){r(t)}}function s(t){try{c(a.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(i,s)}c((a=a.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(t){r=[6,t],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],i=0,s=r.length;i<s;i++,o++)a[o]=r[i];return a};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../frame/scripts/UI/Panel/BaseGamePanel"),l=t("../../../../frame/scripts/Manager/SyncDataManager"),u=t("../../../../frame/scripts/Manager/SoundManager"),p=t("../../../../frame/scripts/Utils/Tools"),h=t("../../../../frame/scripts/Manager/ListenerManager"),f=t("../../Data/GameData"),d=t("../../Data/ListenerType"),y=t("../../Http/InfoManger"),g=t("../../Manager/EditorManager"),_=t("../../../../frame/scripts/Utils/UIHelp"),v=t("../../../../frame/scripts/SDK/T2M"),m=t("../../../../frame/scripts/Data/FrameMsgType"),S=t("../../Data/CustomData"),M=t("../Item/HotArea"),T=t("../../../../frame/scripts/AbroadSDK/AbroadGameSDK"),R=cc._decorator,I=R.ccclass,D=R.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioBuffer=[],e.panel6=null,e.sp_hand=null,e.panel7=null,e.commitBtn=null,e.blueStar=null,e.whiteStar=null,e.starbgs=[],e.arrows=[],e.touchBg=null,e.dragStar=null,e.newNodes=null,e.blueStarPre=null,e.whiteStarPre=null,e.spine_laba=null,e.node_blockinput=null,e.isRemote=!1,e.levelNums=1,e.state=null,e.num_star=15,e.newStars=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e.isDraging=!1,e.rightAnswers=[S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR],e}return a(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.onDestroy=function(){y.default.getInstance().onDestroy(),t.prototype.onDestroy.call(this)},e.prototype.setPanel=function(){t.prototype.setPanel.call(this),f.GameData.getInstance().logicData=new f.LogicData,l.SyncDataManager.getSyncData().customSyncData.myAnswers=[{value:S.GameType.BLUE_STAR,isRight:!0},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1}],l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar=[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.onAnswerHandler(),y.default.getInstance().Init(),this.addEventListenerZzy(),this.newHandHandle(),u.SoundManager.stopAll(),this.onAutoSoundHandle(),this.startGame()},e.prototype.onAutoSoundHandle=function(){var t=this;g.EditorManager.editorData.isAutoSound&&(u.SoundManager.playEffect(S.Sounds.TITLE_SND_1,!1,!1,!1,function(){t.spine_laba.animation=""}),p.Tools.playSpine(this.spine_laba,"idle",!0,function(){}))},e.prototype.newHandHandle=function(){var t=this;this.node_blockinput.active=!0,this.sp_hand.stopAllActions(),this.sp_hand.opacity=255,this.sp_hand.position.x=200;var e=cc.tween().to(1,{x:-30}),n=cc.tween().to(.2,{opacity:0}),a=cc.tween().to(0,{opacity:255}),o=cc.tween().to(0,{x:200});cc.tween(this.sp_hand).then(e).then(n).then(a).then(o).then(e).then(n).then(a).then(o).then(e).then(n).call(function(){t.panel6.active=!1,t.sp_hand.active=!0,t.node_blockinput.active=!1}).start()},e.prototype.onBtnAudioClicked=function(){h.ListenerManager.dispatch(d.InfoMangerType[d.InfoMangerType.send_clickTrump])},e.prototype.onClickAudioBack=function(){var t=this;u.SoundManager.stopAllEffect(),u.SoundManager.playEffect("sfx_click",!1),this.node_blockinput.active=!1,u.SoundManager.playEffect(S.Sounds.TITLE_SND_1,!1,!1,!1,function(){t.spine_laba.animation=""}),p.Tools.playSpine(this.spine_laba,"idle",!0,function(){})},e.prototype.stopAudioBack=function(){u.SoundManager.stopAllEffect(),this.spine_laba.animation=""},e.prototype.addEventListenerZzy=function(){v.T2M.addSyncEventListener(d.InfoMangerType[d.InfoMangerType.receive_clickTrump],this.onClickAudioBack.bind(this)),v.T2M.addSyncEventListener(d.InfoMangerType[d.InfoMangerType.receive_touchStart],this.touchStartHandler.bind(this)),v.T2M.addSyncEventListener(d.InfoMangerType[d.InfoMangerType.receive_touchMove],this.touchMoveHandler.bind(this)),v.T2M.addSyncEventListener(d.InfoMangerType[d.InfoMangerType.receive_touchEnd],this.touchEndHandler.bind(this)),v.T2M.addSyncEventListener(d.InfoMangerType[d.InfoMangerType.receive_TouchEndCommit],this.commitEndHandler.bind(this)),v.T2M.addSyncEventListener(d.InfoMangerType[d.InfoMangerType.receive_clickReset],this.onClickRestart.bind(this)),h.ListenerManager.on(m.FrameMsgType.ON_RECOVERY_DATA,this.DataSync.bind(this))},e.prototype.startGame=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.initView()];case 1:return t.sent(),this.addEventsByGame(),[2]}})})},e.prototype.initView=function(){var t=this;return new Promise(function(e){for(var n=0,a=t.starbgs;n<a.length;n++){a[n].children[0].active=!1}u.SoundManager.playEffect(S.Sounds.SCENE_ENTER_SND,!1,!1),t.blueStar.active=!0,t.whiteStar.active=!0,t.blueStar.scale=0,t.whiteStar.scale=0,setTimeout(function(){u.SoundManager.playEffect(S.Sounds.SHOW_GEAR_SND,!1,!1),cc.tween(t.blueStar).to(.2,{scale:1.3}).to(.1,{scale:.8}).to(.1,{scale:1}).start(),cc.tween(t.whiteStar).to(.3,{scale:1.3}).to(.1,{scale:.8}).to(.1,{scale:1}).start()},500),e(),cc.tween(t.panel7).to(.2,{y:-447}).start()})},e.prototype.addEventsByGame=function(){this.touchBg.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.touchBg.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.touchBg.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.touchBg.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.hornClick=function(t){var e={type:S.ActionTypes.HORN_CLICK,data:null};v.T2M.dispatch(S.ActionTypes.HORN_CLICK,e)},e.prototype.commitEnd=function(t){this.node_blockinput.active=!0,h.ListenerManager.dispatch(d.InfoMangerType[d.InfoMangerType.send_TouchEndCommit],null,null)},e.prototype.touchStart=function(t){h.ListenerManager.dispatch(d.InfoMangerType[d.InfoMangerType.send_touchStart],null,this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.touchMove=function(t){h.ListenerManager.dispatch(d.InfoMangerType[d.InfoMangerType.send_touchMove],null,this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.touchEnd=function(t){h.ListenerManager.dispatch(d.InfoMangerType[d.InfoMangerType.send_touchEnd],null,this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.hornClickHandler=function(){return r(this,void 0,void 0,function(){return i(this,function(t){return[2]})})},e.prototype.touchStartHandler=function(t){this.stopAudioBack(),(t=(t=JSON.parse(t)).data).type=-1;var e=this.findMinDistanceNode(t.pos,[this.blueStar,this.whiteStar]);if(null!=e)t.type=e.getComponent(M.default).id;else{if(null==(e=this.findMinDistanceNode(t.pos,this.starbgs)))return;t.bgIndex=this.starbgs.indexOf(e)}if(-1!=t.type)this.dragStar.active=!0,this.dragStar.getComponent(M.default).id=t.type,1==t.type?(u.SoundManager.playEffect("sfx_touch1",!1,!1),this.dragStar.children[0].active=!0,this.dragStar.children[1].active=!1):(u.SoundManager.playEffect("sfx_touch2",!1,!1),this.dragStar.children[0].active=!1,this.dragStar.children[1].active=!0),this.dragStar.position=cc.v2(t.pos.x,t.pos.y),this.isDraging=!0,this.blueStar.children[0].active=!0,this.blueStar.children[1].active=!1,this.whiteStar.children[0].active=!0,this.whiteStar.children[1].active=!1;else{var n=t.bgIndex,a=l.SyncDataManager.getSyncData().customSyncData.myAnswers[n];if(a.value==S.GameType.NUll_STAR||a.isRight)return;this.dragStar.getComponent(M.default).id=a.value,a.value==S.GameType.BLUE_STAR?(this.dragStar.children[0].active=!0,this.dragStar.children[1].active=!1):a.value==S.GameType.WHITE_STAR&&(this.dragStar.children[0].active=!1,this.dragStar.children[1].active=!0),this.dragStar.active=!0,this.dragStar.position=cc.v2(t.pos.x,t.pos.y),a.value=S.GameType.NUll_STAR,l.SyncDataManager.getSyncData().customSyncData.myAnswers=s(l.SyncDataManager.getSyncData().customSyncData.myAnswers),this.onAnswerHandler(),this.isDraging=!0,this.blueStar.children[0].active=!0,this.blueStar.children[1].active=!1,this.whiteStar.children[0].active=!0,this.whiteStar.children[1].active=!1}},e.prototype.touchMoveHandler=function(t){if(this.isDraging){t=(t=JSON.parse(t)).data;var e=cc.v2(t.pos.x,t.pos.y);this.dragStar.position=e;var n=this.findMinDistanceNode(e,this.starbgs);if(n)"bg_0"!=n.name&&(n.children[0].active=!0);else for(var a=0,o=this.starbgs;a<o.length;a++){o[a].children[0].active=!1}}},e.prototype.touchEndHandler=function(t){return r(this,void 0,void 0,function(){var e,n,a,o,r,c,p,h=this;return i(this,function(i){switch(i.label){case 0:if(!this.isDraging)return[2];for(this.node_blockinput.active=!0,t=(t=JSON.parse(t)).data,e=this.findMinDistanceNode(t.pos,this.starbgs),t.bgIndex=null==e?-1:this.starbgs.indexOf(e),this.isDraging=!1,this.blueStar.children[0].active=!1,this.blueStar.children[1].active=!0,this.whiteStar.children[0].active=!1,this.whiteStar.children[1].active=!0,n=0,a=this.starbgs;n<a.length;n++)a[n].children[0].active=!1;return-1!=t.bgIndex&&0!=e.active?[3,1]:(this.dragStar.active=!1,this.node_blockinput.active=!1,[3,3]);case 1:return this.showABCHandler(t.bgIndex),o=this.starbgs[t.bgIndex],r=this.dragStar.getComponent(M.default).id,c=l.SyncDataManager.getSyncData().customSyncData.myAnswers[t.bgIndex],o.children[0].active=!1,p=Math.ceil(t.bgIndex/2)-1,l.SyncDataManager.getSyncData().customSyncData.myAnswers[p].value==S.GameType.NUll_STAR?(u.SoundManager.playEffect(S.Sounds.SHOW_TIP_SND,!1),_.UIHelp.showTip("Fill in order"),this.dragStar.active=!1,this.node_blockinput.active=!1,[2]):(u.SoundManager.playEffect(S.Sounds.ADSORB_SND,!1),[4,new Promise(function(t){h.dragStar.angle=0,h.dragStar.position=o.position,cc.tween(h.dragStar).to(.3,{angle:-90}).to(.15,{scale:.9}).to(.15,{scale:1}).call(function(){t()}).start()})]);case 2:i.sent(),c.value=r,c.isRight=!1,l.SyncDataManager.getSyncData().customSyncData.myAnswers=s(l.SyncDataManager.getSyncData().customSyncData.myAnswers),this.onAnswerHandler(),this.dragStar.active=!1,this.node_blockinput.active=!1,i.label=3;case 3:return[2]}})})},e.prototype.showABCHandler=function(t){1==t?(this.starbgs[3].active=!0,this.starbgs[4].active=!0,this.arrows[0].active=!0,this.arrows[1].active=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[3]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[4]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[0]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[1]=!0):2==t?(this.starbgs[5].active=!0,this.starbgs[6].active=!0,this.arrows[2].active=!0,this.arrows[3].active=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[5]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[6]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[2]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[3]=!0):3==t?(this.starbgs[7].active=!0,this.starbgs[8].active=!0,this.arrows[4].active=!0,this.arrows[5].active=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[7]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[8]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[4]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[5]=!0):4==t?(this.starbgs[9].active=!0,this.starbgs[10].active=!0,this.arrows[6].active=!0,this.arrows[7].active=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[9]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[10]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[6]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[7]=!0):5==t?(this.starbgs[11].active=!0,this.starbgs[12].active=!0,this.arrows[8].active=!0,this.arrows[9].active=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[11]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[12]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[8]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[9]=!0):6==t&&(this.starbgs[13].active=!0,this.starbgs[14].active=!0,this.arrows[10].active=!0,this.arrows[11].active=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[13]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[14]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[10]=!0,l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[11]=!0)},e.prototype.commitEndHandler=function(t){var e=this;this.node_blockinput.active=!0,u.SoundManager.playEffect("sfx_click",!1);for(var n=[],a=[],o=!1,r=0;r<l.SyncDataManager.getSyncData().customSyncData.myAnswers.length;r++){var i=l.SyncDataManager.getSyncData().customSyncData.myAnswers[r],c=this.newStars[r];i.value==this.rightAnswers[r]?(i.isRight=!0,c.children[2].active=!0,c.children[2].opacity=255,a.push(this.flushAnimate(c.children[2]))):(i.isRight=!1,i.value=S.GameType.NUll_STAR,c.children[1].active=!0,c.children[1].opacity=255,n.push(this.flushAnimate(c.children[1])),o=!0)}if(o){u.SoundManager.playEffect("sound_err",!1,!1,!1,function(){e.onAnswerHandler()}),_.UIHelp.showTip("Pay attention to the colors of the arrows!");for(var p=0;p<l.SyncDataManager.getSyncData().customSyncData.myAnswers.length;p++){(c=this.newStars[p]).children[2].active=!1,c.children[2].opacity=0}u.SoundManager.playEffect(S.Sounds.FLUSH_SND,!1,!1),Promise.all(n).then(function(){}),setTimeout(function(){l.SyncDataManager.getSyncData().customSyncData.myAnswers=s(l.SyncDataManager.getSyncData().customSyncData.myAnswers),e.node_blockinput.active=!1},3e3),this.answerWrong(!1)}else T.AbroadGameSDK.gameOver([1]),u.SoundManager.playEffect("sound_right",!1,!1,!1,function(){e.gameOver()}),this.answerRight(!0),l.SyncDataManager.getSyncData().customSyncData.bool_isOver=!0,Promise.all(a).then(function(){})},e.prototype.flushAnimate=function(t,e,n){return void 0===e&&(e=400),void 0===n&&(n=null),new Promise(function(a,o){t.opacity=0;var r=e/1e3;t.runAction(cc.sequence(cc.fadeTo(r,255),cc.fadeTo(r,0),cc.fadeTo(r,255),cc.fadeTo(r,0),cc.fadeTo(r,255),cc.fadeTo(r,0),cc.fadeTo(r,255),cc.callFunc(function(){n&&n(),a()})))})},e.prototype.findMinDistanceNode=function(t,e){for(var n=0;n<e.length;n++){var a=e[n],o=a.position;if(Math.abs(t.x-o.x)<100&&Math.abs(t.y-o.y)<60)return a}return null},e.prototype.onClickRestart=function(){this.node_blockinput.active=!1,u.SoundManager.stopAll(),this.onAutoSoundHandle(),this.newStars=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],this.isDraging=!1,this.rightAnswers=[S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR,S.GameType.WHITE_STAR,S.GameType.WHITE_STAR,S.GameType.BLUE_STAR],l.SyncDataManager.getSyncData().customSyncData.bool_isOver=!1,l.SyncDataManager.getSyncData().customSyncData.myAnswers=[{value:S.GameType.BLUE_STAR,isRight:!0},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1},{value:S.GameType.NUll_STAR,isRight:!1}],l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar=[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.panel6.active=!0,this.newNodes.removeAllChildren();for(var t=0;t<this.arrows.length;t++)this.arrows[t].active=!1;for(t=3;t<this.num_star;t++)this.starbgs[t].active=!1;this.commitBtn.getComponent(cc.Button).interactable=!1,this.onAnswerHandler(),this.newHandHandle(),this.startGame()},e.prototype.onAnswerHandler=function(){l.SyncDataManager.getSyncData().customSyncData;for(var t=!1,e=0;e<this.newStars.length;e++)null!=this.newStars[e]&&(this.newStars[e].destroy(),this.newStars[e]=null);for(e=0;e<l.SyncDataManager.getSyncData().customSyncData.myAnswers.length;e++){var n=l.SyncDataManager.getSyncData().customSyncData.myAnswers[e],a=this.starbgs[e];if(n.value!=S.GameType.NUll_STAR){var o=null;n.value==S.GameType.BLUE_STAR&&(o=cc.instantiate(this.blueStarPre)),n.value==S.GameType.WHITE_STAR&&(o=cc.instantiate(this.whiteStarPre)),o.children[1].opacity=0,o.children[2].opacity=0,o.position=a.position,this.newStars[e]=o,this.newNodes.addChild(o)}else t=!0}this.commitBtn.getComponent(cc.Button).interactable=!t},e.prototype.DataSync=function(t){u.SoundManager.stopAllEffect();for(var e=0;e<this.num_star;e++)this.starbgs[e].active=l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleStar[e];for(e=0;e<12;e++)this.arrows[e].active=l.SyncDataManager.getSyncData().customSyncData.arr_IsVisibleArrows[e];if(this.panel6.active=!1,this.sp_hand.active=!0,this.node_blockinput.active=!1,this.onAnswerHandler(),1==l.SyncDataManager.getSyncData().customSyncData.bool_isOver)for(var n=0;n<l.SyncDataManager.getSyncData().customSyncData.myAnswers.length;n++){var a=this.newStars[n];a.children[2].active=!0,a.children[2].opacity=255}},e.prototype.onRecoveryData=function(e){t.prototype.onRecoveryData.call(this,e)},e.prototype.answerRight=function(e){t.prototype.answerRight.call(this,e)},e.prototype.answerWrong=function(e){void 0===e&&(e=!1),t.prototype.answerWrong.call(this,e)},e.prototype.gameOver=function(){t.prototype.gameOver.call(this)},e.prototype.onReplay=function(){t.prototype.onReplay.call(this),this.onClickRestart()},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.className="GamePanel",o([D({type:[cc.AudioClip]})],e.prototype,"audioBuffer",void 0),o([D(cc.Node)],e.prototype,"panel6",void 0),o([D(cc.Node)],e.prototype,"sp_hand",void 0),o([D(cc.Node)],e.prototype,"panel7",void 0),o([D(cc.Button)],e.prototype,"commitBtn",void 0),o([D(cc.Node)],e.prototype,"blueStar",void 0),o([D(cc.Node)],e.prototype,"whiteStar",void 0),o([D(cc.Node)],e.prototype,"starbgs",void 0),o([D(cc.Node)],e.prototype,"arrows",void 0),o([D(cc.Node)],e.prototype,"touchBg",void 0),o([D(cc.Node)],e.prototype,"dragStar",void 0),o([D(cc.Node)],e.prototype,"newNodes",void 0),o([D(cc.Prefab)],e.prototype,"blueStarPre",void 0),o([D(cc.Prefab)],e.prototype,"whiteStarPre",void 0),o([D(sp.Skeleton)],e.prototype,"spine_laba",void 0),o([D(cc.Node)],e.prototype,"node_blockinput",void 0),e=o([I],e)}(c.default);n.default=b,cc._RF.pop()},{"../../../../frame/scripts/AbroadSDK/AbroadGameSDK":"AbroadGameSDK","../../../../frame/scripts/Data/FrameMsgType":"FrameMsgType","../../../../frame/scripts/Manager/ListenerManager":"ListenerManager","../../../../frame/scripts/Manager/SoundManager":"SoundManager","../../../../frame/scripts/Manager/SyncDataManager":"SyncDataManager","../../../../frame/scripts/SDK/T2M":"T2M","../../../../frame/scripts/UI/Panel/BaseGamePanel":"BaseGamePanel","../../../../frame/scripts/Utils/Tools":"Tools","../../../../frame/scripts/Utils/UIHelp":"UIHelp","../../Data/CustomData":"CustomData","../../Data/GameData":"GameData","../../Data/ListenerType":"ListenerType","../../Http/InfoManger":"InfoManger","../../Manager/EditorManager":"EditorManager","../Item/HotArea":"HotArea"}],HitTest:[function(t,e,n){"use strict";cc._RF.push(e,"cc84066lYNFeaHvvm4jg8ve","HitTest"),Object.defineProperty(n,"__esModule",{value:!0}),n.HitTest=void 0;var a=function(){function t(){}return t.posInRect=function(t,e){var n=e.parent.convertToWorldSpaceAR(e.position),a=cc.v2(n.x-e.width/2,n.y-e.height/2),o=cc.v2(n.x+e.width/2,n.y+e.height/2);return t.x>=a.x&&t.y>=a.y&&t.x<=o.x&&t.y<=o.y},t.imgHitTest=function(t,e,n){if(void 0===n&&(n=!1),n){var a=e.spriteFrame,o=e.node.convertToNodeSpaceAR(t);if(0==e.node.anchorX&&1==e.node.anchorY)o.y=-o.y;else if(.5==e.node.anchorX&&.5==e.node.anchorY){var r=e.node.width,i=e.node.height;o.x=r/2+o.x,o.y>0?o.y=i/2-o.y:o.y=i/2+Math.abs(o.y)}var s=a.getTexture(),c=document.createElement("canvas"),l=c.getContext("2d");c.width=s.width,c.height=s.height,l.drawImage(s.getHtmlElementObj(),0,0,s.width,s.height,0,0,s.width/1,s.height/1);var u=(l=c.getContext("2d")).getImageData(o.x,o.y,1,1).data;return console.log(u),0!=u[3]}this.posInRect(t,e.node)},t.polygonInside=function(t,e){for(var n=0,a=0,o=e.length-1;a<o;a++){var r=e[a],i=e[a+1];if(r.y<t.y&&i.y>t.y||r.y>t.y&&i.y<t.y){var s=(t.y-r.y)/(i.y-r.y);t.x<r.x+s*(i.x-r.x)&&++n}}return n%2==1},t}();n.HitTest=a,cc._RF.pop()},{}],HotArea:[function(t,e,n){"use strict";cc._RF.push(e,"aae346RNDhD8pK5N8GywFPc","HotArea");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=0,e.mag="",e}return a(e,t),o([s],e.prototype,"id",void 0),o([s],e.prototype,"mag",void 0),e=o([i],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],InfoManger:[function(t,e,n){"use strict";cc._RF.push(e,"c25422Y0UlFB6eH7nouSyYV","InfoManger");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../frame/scripts/Manager/ListenerManager"),i=t("../Data/ListenerType"),s=t("../../../frame/scripts/SDK/T2M"),c=t("../Data/GameData"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.num_lastGetDataTime=0,e}var n;return a(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.Init=function(){r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_clickTrump],this.sendClickTrump),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_NextLevel],this.sendOnClickLevel),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_Submit],this.sendOnClickSubmit),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_FullDose],this.monitorRecoverData),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_clickReset],this.sendClickReset),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_touchStart],this.sendTouchStart),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_touchMove],this.sendTouchMove),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_touchEnd],this.sendTouchdEnd),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_touchCancle],this.sendTouchdEnd),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_TouchStartCommit],this.sendTouchStartCommit),r.ListenerManager.on(i.InfoMangerType[i.InfoMangerType.send_TouchEndCommit],this.sendTouchEndCommit)},e.prototype.sendClickTrump=function(t){void 0===t&&(t=!0),cc.log("sendClickTrump");var e={type:i.InfoMangerType.receive_clickTrump,data:t,QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[e.type],JSON.stringify(e),!1)},e.prototype.sendClickReset=function(){var t={type:i.InfoMangerType.receive_clickReset,data:null,QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[t.type],JSON.stringify(t))},e.prototype.sendTouchStartCommit=function(t,e){var n={type:i.InfoMangerType.receive_TouchStartCommit,data:{},QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[n.type],JSON.stringify(n))},e.prototype.sendTouchEndCommit=function(t,e){var n={type:i.InfoMangerType.receive_TouchEndCommit,data:{},QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[n.type],JSON.stringify(n))},e.prototype.sendOnClickLevel=function(){var t={type:i.InfoMangerType.receive_NextLevel,data:null,QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[t.type],JSON.stringify(t))},e.prototype.sendOnClickSubmit=function(){var t={type:i.InfoMangerType.receive_Submit,data:null,QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[t.type],JSON.stringify(t))},e.prototype.sendTouchStart=function(t,e){var n={type:i.InfoMangerType.receive_touchStart,data:{index:t,pos:e,bgIndex:null,type:null},QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[n.type],JSON.stringify(n))},e.prototype.sendTouchMove=function(t,e){var n={type:i.InfoMangerType.receive_touchMove,data:{index:t,pos:e,bgIndex:null,type:null},QunLiangShuJu:null};s.T2M.dispatch(i.InfoMangerType[n.type],JSON.stringify(n))},e.prototype.sendTouchdEnd=function(t,e,n){var a={type:i.InfoMangerType.receive_touchEnd,data:{index:t,pos:e,dis:n,bgIndex:null,type:null},QunLiangShuJu:null};s.T2M.dispatch(i.InfoMangerType[a.type],JSON.stringify(a))},e.prototype.monitorRecoverData=function(){var t={type:i.InfoMangerType.receive_FullDose,data:null,QunLiangShuJu:c.GameData.getInstance().logicData};s.T2M.dispatch(i.InfoMangerType[t.type],JSON.stringify(t))},e.prototype.onDestroy=function(){n.instance=null},e=n=o([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../../../frame/scripts/Manager/ListenerManager":"ListenerManager","../../../frame/scripts/SDK/T2M":"T2M","../Data/GameData":"GameData","../Data/ListenerType":"ListenerType"}],ListenerManager:[function(t,e,n){"use strict";cc._RF.push(e,"05dc2tRAiFMobMbxaPK4NIf","ListenerManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListenerManager=void 0;var a=function(){function t(){this.handle={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},t.prototype.on=function(t,e,n){if(!this.hasEvent(t,e,n)){this.handle[t]||(this.handle[t]=[]);var a={func:e,target:n};this.handle[t].push(a)}},t.prototype.off=function(t,e,n){var a=this.handle[t];if(a&&!(a.length<=0))for(var o=0;o<a.length;o++){var r=a[o];if(e==r.func&&(!n||n==r.target)){a.splice(o,1);break}}},t.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var a=this.handle[t];if(a&&!(a.length<=0))for(var o=0;o<a.length;o++){var r=a[o];r.func.apply(r.target,e)}},t.prototype.removeAll=function(t){if(t)for(var e in this.handle)for(var n=0,a=(o=this.handle[e]).length;n<a;n++){o[n].target==t&&(o.splice(n,1),a>0&&a--,n--)}else for(var e in this.handle)for(var o=this.handle[e];o.length>0;)o.pop()},t.prototype.hasEvent=function(t,e,n){var a=this.handle[t];if(!a||a.length<=0)return!1;for(var o=0;o<a.length;o++){var r=a[o];if(e==r.func&&(!n||n==r.target))return!0}return!1},t._instance=null,t}();n.ListenerManager=a.getInstance(),cc._RF.pop()},{}],ListenerType:[function(t,e,n){"use strict";cc._RF.push(e,"7044bQLES1PU65Qd4htAUpq","ListenerType"),Object.defineProperty(n,"__esModule",{value:!0}),n.InfoMangerType=n.ListenerType=void 0;var a=function(){function t(){}return t.none="none",t.Test="Test",t.GameStart="GameStart",t.UpdateMainUI="UpdateMainUI",t.LoopUpdate="LoopUpdate",t.OnEndOfInput="OnEndOfInput",t.OnDaAnShanChu="OnDaAnShanChu",t.OnDaAnZengJia="OnDaAnZengJia",t.OnEditStateSwitching="OnEditStateSwitching",t.OnEditSubmitState="OnEditSubmitState",t.SubmissionPanel_OnClickSubmit="SubmissionPanel_OnClickSubmit",t.gamePanel_SetMaskState="gamePanel_SetMaskState",t.gamePanel_playTitleOver="gamePanel_playTitleOver",t}();n.ListenerType=a,function(t){t[t.send_clickTrump=100001]="send_clickTrump",t[t.send_touchStart=100002]="send_touchStart",t[t.send_touchMove=100003]="send_touchMove",t[t.send_touchEnd=100004]="send_touchEnd",t[t.send_touchCancle=100005]="send_touchCancle",t[t.send_TouchStartCommit=100006]="send_TouchStartCommit",t[t.send_TouchEndCommit=100007]="send_TouchEndCommit",t[t.send_clickReset=100008]="send_clickReset",t[t.send_NextLevel=100009]="send_NextLevel",t[t.send_Submit=100010]="send_Submit",t[t.send_FullDose=100011]="send_FullDose",t[t.receive_clickTrump=900001]="receive_clickTrump",t[t.receive_touchStart=900002]="receive_touchStart",t[t.receive_touchMove=900003]="receive_touchMove",t[t.receive_touchEnd=900004]="receive_touchEnd",t[t.receive_touchCancle=900005]="receive_touchCancle",t[t.receive_TouchStartCommit=900006]="receive_TouchStartCommit",t[t.receive_TouchEndCommit=900007]="receive_TouchEndCommit",t[t.receive_clickReset=900008]="receive_clickReset",t[t.receive_NextLevel=900009]="receive_NextLevel",t[t.receive_Submit=900010]="receive_Submit",t[t.receive_FullDose=900011]="receive_FullDose"}(n.InfoMangerType||(n.InfoMangerType={})),cc._RF.pop()},{}],LoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"cf8a66RO2hJWJN7q1dt4/zn","LoadingUI");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},r=this&&this.__awaiter||function(t,e,n,a){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function i(t){try{c(a.next(t))}catch(t){r(t)}}function s(t){try{c(a.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(i,s)}c((a=a.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(t){r=[6,t],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadingUI=void 0;var s=t("../../../../game/scripts/Data/ConstValue"),c=t("../../../../game/scripts/UI/panel/GamePanel"),l=t("../../../../game/scripts/UI/panel/TeacherPanel"),u=t("../../Http/NetWork"),p=t("../../Manager/SoundManager"),h=t("../../Manager/UIManager"),f=t("../../SDK/GameMsg"),d=t("../BaseFrameUI"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.progressLabel=null,e.dragonNode=null,e.isLoadStart=!1,e}return a(e,t),e.prototype.onLoad=function(){u.NetWork.GetRequest(),this.init()},e.prototype.init=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.loadPreloadDir()];case 1:return t.sent(),this.loadAudio(),[2]}})})},e.prototype.loadAudio=function(){return r(this,void 0,void 0,function(){var t=this;return i(this,function(e){return p.SoundManager.preLoadAllAudioClips(function(){t.openPanel()}),[2]})})},e.prototype.loadPreloadDir=function(){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,new Promise(function(t,e){cc.resources.loadDir("preload",cc.Asset,function(e,n){t()})})]})})},e.prototype.openPanel=function(){var t=this,e=s.ConstValue.IS_TEACHER?l.default:c.default;h.UIManager.openUI(e,this,0,function(){f.default.resLoadEnd()},function(e,n,a){t.isLoadStart||(t.isLoadStart=!0),t.progressBar.progress=e/n;var o=Math.round(e/n*100);f.default.resLoading(o),t.progressLabel.string=o.toString()+"%";var r=e/n*609-304;t.dragonNode.x=r})},e.className="LoadingUI",o([_(cc.ProgressBar)],e.prototype,"progressBar",void 0),o([_(cc.Label)],e.prototype,"progressLabel",void 0),o([_(cc.Node)],e.prototype,"dragonNode",void 0),e=o([g],e)}(d.default);n.LoadingUI=v,cc._RF.pop()},{"../../../../game/scripts/Data/ConstValue":"ConstValue","../../../../game/scripts/UI/panel/GamePanel":"GamePanel","../../../../game/scripts/UI/panel/TeacherPanel":"TeacherPanel","../../Http/NetWork":"NetWork","../../Manager/SoundManager":"SoundManager","../../Manager/UIManager":"UIManager","../../SDK/GameMsg":"GameMsg","../BaseFrameUI":"BaseFrameUI"}],LogWrap:[function(t,e,n){"use strict";cc._RF.push(e,"615f7lsxLNDWJSqVJoRIFW3","LogWrap"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogWrap=void 0;var a=t("../../../game/scripts/Data/ConstValue"),o=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),n="";return n+=(1==e.length?"0"+e:e)+":",n+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",n+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),n="["+(n+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var n=[];e.forEach(function(t){var e,a=(t=t.substring(7)).split(" ");a.length<2?n.push(a[0]):n.push(((e={})[a[0]]=a[1],e))});var a=[];if(t<n.length-1)for(var o in n[t])a.push(o);var r=a[0].split(".");return r[0]+".js->"+r[1]+": "},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;a.ConstValue.IS_EDITIONS||o.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;a.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;a.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;a.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();n.LogWrap=o,cc._RF.pop()},{"../../../game/scripts/Data/ConstValue":"ConstValue"}],MaskGlobal:[function(t,e,n){"use strict";cc._RF.push(e,"858970ZsXNOcpzdwRAxST5n","MaskGlobal");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Data/FrameMsgType"),i=t("../../Manager/ListenerManager"),s=t("../../Manager/UIManager"),c=t("../BindNode"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._nd_mask=null,e._nd_loading=null,e.isShowLoading=!1,e}return a(e,t),e.prototype.onLoad=function(){this.node.zIndex=s.EPANEL_ZORDER.MASK},e.prototype.start=function(){this._nd_mask.on(cc.Node.EventType.TOUCH_START,this.on_touchStart,this),i.ListenerManager.on(r.FrameMsgType.ON_MASK,this.onMask,this),this._nd_loading.active=!1,this._nd_mask.active=!1},e.prototype.onMask=function(t,e){void 0===e&&(e=!1),this._nd_mask.active=t,this.isShowLoading=e,this.SetLoading(this.isShowLoading)},e.prototype.on_touchStart=function(){this.isShowLoading},e.prototype.SetLoading=function(t){this._nd_loading.active=t},e=o([u],e)}(c.default));n.default=p,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../BindNode":"BindNode"}],MaskRecover:[function(t,e,n){"use strict";cc._RF.push(e,"c61c0OGRkxGBqEB0icrBo6y","MaskRecover");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Data/FrameMsgType"),i=t("../../Manager/ListenerManager"),s=t("../../Manager/UIManager"),c=t("../BindNode"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._nd_mask=null,e._nd_loading=null,e.isShowLoading=!1,e}return a(e,t),e.prototype.onLoad=function(){this.node.zIndex=s.EPANEL_ZORDER.MASK},e.prototype.start=function(){i.ListenerManager.on(r.FrameMsgType.MASK_RECOVER,this.onMask,this),this._nd_loading.active=!0,this._nd_mask.active=!1},e.prototype.onMask=function(t){this._nd_mask.active=t},e=o([u],e)}(c.default));n.default=p,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../BindNode":"BindNode"}],MathUtils:[function(t,e,n){"use strict";cc._RF.push(e,"aa960SepSxHGal1p7xVIQi8","MathUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils=void 0;var a=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getAngle=function(t){return 180*t/Math.PI},t.prototype.getRadian=function(t){return t/180*Math.PI},t.prototype.getRadian2=function(t,e,n,a){var o=n-t,r=a-e;return Math.atan2(r,o)},t.prototype.getDistance=function(t,e){var n=e.x-t.x,a=e.y-t.y,o=n*n+a*a;return Math.sqrt(o)},t.prototype.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.prototype.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.prototype.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t.prototype.SagPoint=function(t,e,n,a){var o=(n.x-a.x)*(n.x-a.x)+(n.y-a.y)*(n.y-a.y),r=((t-n.x)*(a.x-n.x)+(e-n.y)*(a.y-n.y))/o,i=n.x+r*(a.x-n.x),s=n.y+r*(a.y-n.y);return new cc.Vec3(i,s)},t.prototype.extendedLinePoint=function(t,e,n){var a,o,r;return a=this.getDistance(t,e),e.x>t.x&&e.y>t.y?(o=n/a*Math.abs(t.x-e.x)+e.x,r=n/a*Math.abs(t.y-e.y)+e.y):e.x<t.x&&e.y>t.y?(o=-n/a*Math.abs(t.x-e.x)+e.x,r=n/a*Math.abs(t.y-e.y)+e.y):e.x<t.x&&e.y<t.y?(o=-n/a*Math.abs(t.x-e.x)+e.x,r=-n/a*Math.abs(t.y-e.y)+e.y):e.x>t.x&&e.y<t.y&&(o=n/a*Math.abs(t.x-e.x)+e.x,r=-n/a*Math.abs(t.y-e.y)+e.y),new cc.Vec3(o,r)},t.prototype.getTwoPointsRadian1=function(t,e){var n=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y),o=a/Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),r=Math.acos(o),i=Math.floor(180/(Math.PI/r));return e.x>t.x&&e.y<t.y&&(i=180-i),e.x==t.x&&e.y>t.y&&(i=180),e.x>t.x&&e.y==t.y&&(i=90),e.x<t.x&&e.y<t.y&&(i=180+i),e.x<t.x&&e.y==t.y&&(i=270),e.x<t.x&&e.y>t.y&&(i=360-i),i},t.prototype.getTwoPointsRadian2=function(t,e){var n=t.x-e.x,a=t.y-e.y;return-180*Math.atan2(a,n)/Math.PI-90},t.prototype.fingCrossPoint=function(t,e,n,a){var o=e.y-t.y,r=t.x-e.x,i=t.x*e.y-e.x*t.y,s=a.y-n.y,c=n.x-a.x,l=n.x*a.y-a.x*n.y,u=o*c-s*r;if(0==u)return null;var p=(i*c-l*r)/u,h=(o*l-s*i)/u;return new cc.Vec3(Math.floor(p),Math.floor(h))},t.prototype.accAdd=function(t,e){var n,a,o=0,r=0;try{o=t.toString().split(".")[1].length}catch(t){o=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}if(a=Math.abs(o-r),n=Math.pow(10,Math.max(o,r)),a>0){var i=Math.pow(10,a);o>r?(t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""))*i):(t=Number(t.toString().replace(".",""))*i,e=Number(e.toString().replace(".","")))}else t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""));return(t+e)/n},t.prototype.accSub=function(t,e){var n,a=0,o=0;try{a=t.toString().split(".")[1].length}catch(t){a=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return((t*(n=Math.pow(10,Math.max(a,o)))-e*n)/n).toFixed(a>=o?a:o)},t.prototype.accMul=function(t,e){var n=0,a=t.toString(),o=e.toString();try{n+=a.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(a.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},t.prototype.accDiv=function(t,e){var n=0,a=0;try{n=t.toString().split(".")[1].length}catch(t){}try{a=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,a-n)},t.prototype.getCenterPosition=function(t,e){return cc.v3((t.x+e.x)/2,(t.y+e.y)/2)},t}();n.MathUtils=a,cc._RF.pop()},{}],NetWork:[function(t,e,n){"use strict";cc._RF.push(e,"9cd01aQNbFMUY4sUMN0yYH5","NetWork"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetWork=n.NetWorkClass=void 0;var a=t("../../../game/scripts/Data/ConstValue"),o=t("../SDK/GameMsg"),r=t("../Utils/UIHelp"),i=function(){function t(){this.isOnlineEnv="online"==this.GetIsOnline(),this.isOwcr=this.GetBPreload(),this.BASE=this.isOnlineEnv?"https://courseware.haibian.com":"https://ceshi_courseware.haibian.com",this.GET_QUESTION=this.BASE+"/get",this.GET_USER_PROGRESS=this.BASE+"/get/answer",this.GET_TITLE=this.BASE+"/get/title",this.ADD=this.BASE+"/add",this.MODIFY=this.BASE+"/modify",this.CLEAR=this.BASE+"/clear",this.empty=!1,this.userId=null,this.chapterId=null,this.coursewareId=null,this.titleId=null,this.bLive=null,this.bPreload=null,this.env=null,this.app=null,this.platform=null,this.channel=null,this.browser=null,this.appVersion=null,this.isTeacher=!1,this.isSync=!1,this.isOffline=0,this.theRequest=null}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.setIsSync=function(t){t=null!=t&&t,n.NetWork.isSync=t},t.prototype.setIsTeacher=function(t){var e="teacher"==(t=null==t?"":t);n.NetWork.isTeacher=e},t.prototype.httpRequest=function(t,e,n,i,s){var c=this;if(void 0===i&&(i=null),void 0===s&&(s=""),this.isOffline&&t.substring(0,this.GET_QUESTION.length)==this.GET_QUESTION)return o.default.recv_json_data(function(a){console.log("recv_json_data:",a),i&&0==a.jsonData.errcode?i(!1,a.jsonData):r.UIHelp.showErrorPanel(a.jsonData.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){c.httpRequest(t,e,n,i,s)},!1)}),void o.default.request_json_data({coursewareId:this.coursewareId});if(a.ConstValue.IS_TEACHER){if(!this.titleId)return void r.UIHelp.showErrorPanel("URL\u53c2\u6570\u9519\u8bef,\u7f3a\u5c11titleId,\u8bf7\u8054\u7cfb\u6280\u672f\u4eba\u5458\uff01","","","\u786e\u5b9a")}else if(!(a.ConstValue.IS_TEACHER||this.userId&&this.coursewareId&&this.env&&this.app&&this.channel&&this.browser))return o.default.URLError(this.theRequest),void r.UIHelp.showErrorPanel("URL\u53c2\u6570\u9519\u8bef,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a");var l=new XMLHttpRequest;l.open(e,t),l.timeout=1e4,l.setRequestHeader("Content-Type",n),l.withCredentials=!0,l.onreadystatechange=function(){if(console.log("httpRequest rsp status",l.status,"        xhr.readyState",l.readyState,"        xhr.responseText",l.responseText),4==l.readyState&&l.status>=200&&l.status<=400){var u=JSON.parse(l.responseText);i&&0==u.errcode?i(!1,u):(o.default.httpError(u.errmsg),a.ConstValue.IS_EDITIONS&&r.UIHelp.showErrorPanel(u.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){c.httpRequest(t,e,n,i,s)},!1))}},l.ontimeout=function(l){o.default.httpTimeOut("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),a.ConstValue.IS_EDITIONS&&r.UIHelp.showErrorPanel("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","\u91cd\u65b0\u8fde\u63a5",function(){c.httpRequest(t,e,n,i,s)},!0),console.log("httpRequest timeout"),i&&i(!0,null)},l.onerror=function(o){a.ConstValue.IS_EDITIONS&&r.UIHelp.showErrorPanel("\u7f51\u7edc\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","","\u91cd\u65b0\u8fde\u63a5",function(){c.httpRequest(t,e,n,i,s)},!0),console.log("httpRequest error"),i&&i(!0,null)},l.send(s)},t.prototype.GetRequest=function(){if(null!=this.theRequest)return this.theRequest;this.theRequest=new Object;var t=location.search;if(-1!=t.indexOf("?"))for(var e=t.substr(1).split("&"),n=0;n<e.length;n++)this.theRequest[e[n].split("=")[0]]=decodeURIComponent(e[n].split("=")[1]);return this.userId=this.theRequest.userId,this.chapterId=this.theRequest.chapterId,this.coursewareId=this.theRequest.coursewareId,this.titleId=this.theRequest.titleId,this.bLive=this.theRequest.bLive,this.bPreload=this.theRequest.bPreload,this.env=this.theRequest.env,this.app=this.theRequest.app,this.platform=this.theRequest.platform,this.channel=this.theRequest.channel,this.browser=this.theRequest.browser,this.appVersion=this.theRequest.appVersion,this.empty=this.theRequest.empty,this.isOffline=parseInt(this.theRequest.isOffline),this.theRequest},t.prototype.GetBPreload=function(){var t=0;return this.GetRequest().bPreload&&(t=this.GetRequest().bPreload),t},t.prototype.GetIsOnline=function(){var t="test";return this.GetRequest().env&&(t=this.GetRequest().env),t},t}();n.NetWorkClass=i,n.NetWork=i.getInstance(),cc._RF.pop()},{"../../../game/scripts/Data/ConstValue":"ConstValue","../SDK/GameMsg":"GameMsg","../Utils/UIHelp":"UIHelp"}],OverTips:[function(t,e,n){"use strict";cc._RF.push(e,"d402btyepNJObcDSUkLUQcr","OverTips");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.OverTips=n.DefalutTitle=n.Type_Tile=void 0;var r=t("./../../Manager/SoundManager"),i=t("../../Utils/Tools"),s=t("../BaseFrameUI"),c=t("../../Utils/UIHelp"),l=t("../../Manager/UIManager"),u=t("../../SDK/T2M"),p=t("../../Data/FrameMsgType");(function(t){t[t.ZuoDaJieShu=0]="ZuoDaJieShu",t[t.ChuangGuanChengGong=1]="ChuangGuanChengGong",t[t.TiaoZhanJieShu=2]="TiaoZhanJieShu",t[t.TiaoZhanChengGong=3]="TiaoZhanChengGong",t[t.ChuangGuanJieShu=4]="ChuangGuanJieShu"})(n.Type_Tile||(n.Type_Tile={})),n.DefalutTitle=["\u4f5c\u7b54\u7ed3\u675f","\u95ef\u5173\u6210\u529f","\u6311\u6218\u7ed3\u675f","\u6311\u6218\u6210\u529f","\u95ef\u5173\u7ed3\u675f"];var h={"\u4f5c":"img_zuo","\u7b54":"img_da","\u7ed3":"img_jie","\u675f":"img_shu","\u6210":"img_cheng","\u529f":"img_gong","\u6311":"img_tiao","\u6218":"img_zhan","\u95ef":"img_chuang","\u5173":"img_guan"},f=cc._decorator,d=f.ccclass,y=f.property,g=function(t){function e(){var e=t.call(this)||this;return e.label_tip=null,e.spine_false=null,e.spine_true=null,e.spine_complete=null,e.node_close=null,e.btn_replay=null,e.callback=null,e.endInAnimation=!1,e.img_titles=[],e.bones=[],e}return a(e,t),e.prototype.onLoad=function(){l.UIManager.getBundleRes("frameRes","images/OverTips/word",cc.SpriteAtlas,function(t){})},e.prototype.start=function(){this.node_close.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this),u.T2M.addSyncEventListener(p.FrameMsgType.OVERTIPS_CLOSE,this.doClickClose.bind(this))},e.prototype.onDisable=function(){this.node_close.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.init=function(t,e,a,o,s,l,u){var p=this;switch(void 0===e&&(e=""),void 0===l&&(l=!1),void 0===u&&(u=!0),this.callback=a,this.spine_false.node.active=0==t,this.spine_true.node.active=1==t,this.spine_complete.node.active=2==t,this.label_tip.string=e,this.label_tip.node.active=2!=t,this.node_close.active=l&&(0===t||1===t),this.btn_replay&&(this.btn_replay.active=s),t){case 0:i.Tools.playSpine(this.spine_false,"false",!1,function(){u&&p.delayClose.bind(p)}),r.SoundManager.playEffect("sfx_genneg",!1);break;case 1:this.spine_true.clearTracks(),i.Tools.playSpine(this.spine_true,"true",!1,function(){u&&p.delayClose.bind(p)}),r.SoundManager.playEffect("sfx_genpos",!1);break;case 2:if(this.spine_complete.node.active=!1,o||(o=n.DefalutTitle[0]),4!=o.length)return;this.bones=[],this.bones.push(this.spine_complete.findBone("paipai")),this.bones.push(this.spine_complete.findBone("xiaoU")),this.bones.push(this.spine_complete.findBone("mimiya")),this.bones.push(this.spine_complete.findBone("doudou"));for(var h=0;h<4;h++)this.createTitleImage(o[h])}var f=cc.v2(this.label_tip.node.position.x,this.label_tip.node.position.y),d=cc.v2(f.x,f.y-72.8),y=cc.v2(f.x,f.y+12),g=cc.v2(f.x,f.y-8),_=cc.v2(f.x,f.y+7.3);this.label_tip.node.position=cc.v3(d.x,d.y),cc.tween(this.label_tip.node).to(.08,{x:y.x,y:y.y}).to(.08,{x:g.x,y:g.y}).to(.08,{x:_.x,y:_.y}).to(.06,{x:f.x,y:f.y}).start(),c.UIHelp.closeMask()},e.prototype.delayClose=function(){this.scheduleOnce(function(){this.doClickClose()}.bind(this),0)},e.prototype.onClickClose=function(t,e){u.T2M.dispatch(p.FrameMsgType.OVERTIPS_CLOSE,null)},e.prototype.doClickClose=function(){this.callback&&this.callback(),c.UIHelp.closeOverTips()},e.prototype.createTitleImage=function(t){var e=this;l.UIManager.getBundleRes("frameRes","images/OverTips/word",cc.SpriteAtlas,function(n){var a=n.getSpriteFrame(h[t]),o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=a,o.parent=e.node,o.active=!1,e.img_titles.push(o),4==e.img_titles.length&&(e.endInAnimation=!0,e.spine_complete.node.active=!0,i.Tools.playSpine(e.spine_complete,"in",!1,function(){i.Tools.playSpine(e.spine_complete,"stand",!0),e.endInAnimation=!1}),r.SoundManager.playEffect("sfx_geupgrd",!1))})},e.prototype.update=function(){if(this.endInAnimation)for(var t=0;t<this.img_titles.length;t++)this.img_titles[t].active=!0,this.img_titles[t].position=cc.v3(this.bones[t].worldX-139,this.bones[t].worldY-135)},e.className="OverTips",o([y(cc.Label)],e.prototype,"label_tip",void 0),o([y(sp.Skeleton)],e.prototype,"spine_false",void 0),o([y(sp.Skeleton)],e.prototype,"spine_true",void 0),o([y(sp.Skeleton)],e.prototype,"spine_complete",void 0),o([y(cc.Node)],e.prototype,"node_close",void 0),o([y(cc.Node)],e.prototype,"btn_replay",void 0),e=o([d],e)}(s.default);n.OverTips=g,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../Manager/UIManager":"UIManager","../../SDK/T2M":"T2M","../../Utils/Tools":"Tools","../../Utils/UIHelp":"UIHelp","../BaseFrameUI":"BaseFrameUI","./../../Manager/SoundManager":"SoundManager"}],ReportManager:[function(require,module,exports){"use strict";cc._RF.push(module,"c1c64g+oUJINqZmXJU6GCDp","ReportManager");var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReportData=exports.ExtraData=exports.ExtraGameOverData=exports.GameOverData=exports.ExtraLevelData=exports.LevelData=exports.AnswerResult=exports.ReportManager=void 0;var ConstValue_1=require("../../../game/scripts/Data/ConstValue"),EditorManager_1=require("../../../game/scripts/Manager/EditorManager"),GameMsg_1=require("../SDK/GameMsg"),ReportManagerClass=function(){function ReportManagerClass(){this._startLevelConfig=[80,50,0],this._type="txt",this._result=[],this._playIndex=0,this._levelStartTime=0,this._coastTimeArr=[],this._tryCounts=[],this._correctCounts=[],this._AnswerResults=[],this._levelCount=0,this._curLevelId=0,this.isAllOver=!1,this._isReportedGameOver=!1,this._stepCount=0}return ReportManagerClass.getInstance=function(){return this._instance||(this._instance=new ReportManagerClass),this._instance},ReportManagerClass.prototype.addCoastTime=function(t){var e=t-this._levelStartTime;e=1e3*Math.ceil(e/1e3),this._coastTimeArr[this._curLevelId]=e},ReportManagerClass.prototype.getCoastTimes=function(){return this._coastTimeArr},ReportManagerClass.prototype.setCoastTimes=function(t){this._coastTimeArr=t},ReportManagerClass.prototype.getTryCounts=function(){return this._tryCounts},ReportManagerClass.prototype.setTryCounts=function(t){this._tryCounts=t},ReportManagerClass.prototype.getCorrectCounts=function(){return this._correctCounts},ReportManagerClass.prototype.setCorrectCounts=function(t){this._correctCounts=t},ReportManagerClass.prototype.getAnswerResults=function(){return this._AnswerResults},ReportManagerClass.prototype.setAnswerResults=function(t){this._AnswerResults=t},ReportManagerClass.prototype.setAnswerResultByLevel=function(t,e){this._AnswerResults[t]=e},ReportManagerClass.prototype.addTryCount=function(t){this._tryCounts[this._curLevelId]?this._tryCounts[this._curLevelId]+=1:this._tryCounts[this._curLevelId]=1,void 0===this._correctCounts[this._curLevelId]&&(this._correctCounts[this._curLevelId]=0),t&&(this._correctCounts[this._curLevelId]+=1)},ReportManagerClass.prototype.initReportData=function(t){this._playIndex=1,this._curLevelId=0,this.isAllOver=!1,this._isReportedGameOver=!1,this._levelCount=t,this._result=[];for(var e=0;e<this._levelCount;e++){var n=this._levelCount>1?ConstValue_1.ConstValue.GameName+"_\u7b2c"+(e+1)+"\u5173":ConstValue_1.ConstValue.GameName,a=new ExtraLevelData;a.id=e+1,a.question_info=n,this._result.push(a)}this._levelStartTime=Date.now(),this.setTryCounts([]),this.setCorrectCounts([]),this.setCoastTimes([]),this.setAnswerResults([]),EditorManager_1.EditorManager.getStepCount?this._stepCount=EditorManager_1.EditorManager.getStepCount():this._stepCount=t,GameMsg_1.default.request_level_info({levelCount:this._levelCount,curLevel:this._curLevelId+1})},ReportManagerClass.prototype.replayGame=function(){this._result=[],++this._playIndex,this.isAllOver=!1,this._isReportedGameOver=!1,this._curLevelId=0;for(var t=0;t<this._levelCount;t++){var e=this._levelCount>1?ConstValue_1.ConstValue.GameName+"_\u7b2c"+(t+1)+"\u5173":ConstValue_1.ConstValue.GameName,n=new ExtraLevelData;n.id=t+1,n.question_info=e,this._result.push(n)}this._levelStartTime=Date.now(),this.setTryCounts([]),this.setCorrectCounts([]),this.setCoastTimes([]),this.setAnswerResults([]),GameMsg_1.default.request_level_info({levelCount:this._levelCount,curLevel:this._curLevelId+1})},ReportManagerClass.prototype.reportLevelResult=function(t,e){if(void 0===e&&(e=!0),void 0!==this._result[this._curLevelId]){var n=Date.now();this.addCoastTime(n),this.addTryCount(t);var a=AnswerResult.NoAnswer;a=t?e?AnswerResult.AnswerRight:AnswerResult.AnswerHalf:AnswerResult.AnswerError,this.setAnswerResultByLevel(this._curLevelId,a);var o=this.getReportData();o.gameOver=null,console.log(o),GameMsg_1.default.answerSyncSend(o),e&&(++this._curLevelId,this._levelStartTime=Date.now(),this._curLevelId===this._levelCount?(this.isAllOver=!0,this.reportGameOver()):GameMsg_1.default.request_level_info({levelCount:this._levelCount,curLevel:this._curLevelId+1}))}},ReportManagerClass.prototype.reportGameOver=function(){if(!this._isReportedGameOver){var t=this.getReportData();console.log(t),GameMsg_1.default.gameOver(t),GameMsg_1.default.gameStatisticData(t.ext),this._isReportedGameOver=!0}},ReportManagerClass.prototype.getResultData=function(t){for(var e=0;e<this._result.length;++e){var n=this._result[e],a=n.id-1,o=this.getAnswerResults()[a]||AnswerResult.NoAnswer,r=this.getTryCounts()[a]||0,i=this.getCorrectCounts()[a]||0,s=r-i,c=Math.ceil((this.getCoastTimes()[a]||0)/1e3);n.answer_res=o,n.answer_num=r,n.correct_num=i,n.wrong_num=s,n.answer_time=c}if(t)return this._result;var l=[];return this._result.forEach(function(t){var e=new LevelData;e.id=t.id,e.question_info=t.question_info,e.answer_res=t.answer_res,e.answer_num=t.answer_num,e.answer_time=t.answer_time,l.push(e)}),l},ReportManagerClass.prototype.getGameOverData=function(isExtra){var totalTryCount=eval(this.getTryCounts().join("+"));totalTryCount=totalTryCount||0;var totalCorrectCount=eval(this.getCorrectCounts().join("+"));totalCorrectCount=totalCorrectCount||0;var totalWrongCount=totalTryCount-totalCorrectCount,totalTimes=eval(this.getCoastTimes().join("+"));totalTimes=totalTimes||0;var gameOver=null;return isExtra?(gameOver=new ExtraGameOverData,gameOver.game_correct_num=totalCorrectCount,gameOver.game_wrong_num=totalWrongCount,gameOver.cur_level_id=Math.min(this._curLevelId+1,this._levelCount),gameOver.total_level_num=this._levelCount,gameOver.star_num=this.getStarCount(),gameOver.step_count=this._stepCount):gameOver=new GameOverData,gameOver.percentage=this.isAllOver?Math.round(totalCorrectCount/totalTryCount*100):0,gameOver.answer_all_time=Math.ceil(totalTimes/1e3),gameOver.complete_degree=this.isAllOver?100:Math.ceil(totalCorrectCount/this._stepCount*100),gameOver.answer_all_state=0===totalTryCount?AnswerResult.NoAnswer:this.isAllOver?AnswerResult.AnswerRight:AnswerResult.AnswerHalf,gameOver},ReportManagerClass.prototype.getExtraData=function(){var t=new ExtraData;return t.type=this._type,t.index=this._playIndex,t.result=this.getResultData(!0),t.gameOver=this.getGameOverData(!0),t},ReportManagerClass.prototype.getReportData=function(){var t=new ReportData;return t.type=this._type,t.index=this._playIndex,t.result=this.getResultData(!1),t.gameOver=this.getGameOverData(!1),t.ext=this.getExtraData(),t},ReportManagerClass.prototype.getStarCount=function(){var t=this.getGameOverData(!1);return t.percentage>=this._startLevelConfig[0]?3:t.percentage>=this._startLevelConfig[1]?2:t.percentage>this._startLevelConfig[2]?1:0},ReportManagerClass.prototype.getSyncData=function(){return{bReportedGameOver:this._isReportedGameOver,playCount:this._playIndex,startTime:this._levelStartTime,coastTimes:this.getCoastTimes(),tryCounts:this.getTryCounts(),correctCounts:this.getCorrectCounts(),curLevelId:this._curLevelId,bFinished:this.isAllOver,answerResults:this.getAnswerResults()}},ReportManagerClass.prototype.setSyncData=function(t){this._isReportedGameOver=t.bReportedGameOver,this._playIndex=t.playCount,this._levelStartTime=t.startTime,this.setCoastTimes(t.coastTimes),this.setTryCounts(t.tryCounts),this.setCorrectCounts(t.correctCounts),this._curLevelId=t.curLevelId,this.isAllOver=t.bFinished,this.setAnswerResults(t.answerResults),GameMsg_1.default.request_level_info({levelCount:this._levelCount,curLevel:this._curLevelId+1})},ReportManagerClass._instance=null,ReportManagerClass}(),AnswerResult;exports.ReportManager=ReportManagerClass.getInstance(),function(t){t.AnswerError="answer_error",t.AnswerRight="answer_right",t.AnswerHalf="answer_half",t.NoAnswer="no_answer"}(AnswerResult=exports.AnswerResult||(exports.AnswerResult={}));var LevelData=function(){return function(){this.id=0,this.question_info="",this.answer_res=AnswerResult.NoAnswer,this.answer_num=0,this.answer_time=0}}();exports.LevelData=LevelData;var ExtraLevelData=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.correct_num=0,e.wrong_num=0,e}return __extends(e,t),e}(LevelData);exports.ExtraLevelData=ExtraLevelData;var GameOverData=function(){return function(){this.percentage=0,this.answer_all_state=AnswerResult.NoAnswer,this.answer_all_time=0,this.complete_degree=0}}();exports.GameOverData=GameOverData;var ExtraGameOverData=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game_correct_num=0,e.game_wrong_num=0,e.cur_level_id=1,e.total_level_num=0,e.star_num=0,e.step_count=0,e}return __extends(e,t),e}(GameOverData);exports.ExtraGameOverData=ExtraGameOverData;var ExtraData=function(){return function(){this.type="txt",this.index=1,this.result=[],this.gameOver=new ExtraGameOverData}}();exports.ExtraData=ExtraData;var ReportData=function(){return function(){this.type="txt",this.index=1,this.result=[],this.gameOver=new GameOverData,this.ext=new ExtraData}}();exports.ReportData=ReportData,cc._RF.pop()},{"../../../game/scripts/Data/ConstValue":"ConstValue","../../../game/scripts/Manager/EditorManager":"EditorManager","../SDK/GameMsg":"GameMsg"}],ShowJInZhi:[function(t,e,n){"use strict";cc._RF.push(e,"b0bffEKX0RMr6Yk1sZi3w/t","ShowJInZhi");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_jinYong=null,e.node_wangLuoQingQiu=null,e.node_mengCeng=null,e.isShowJinYong=!1,e}return a(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnTouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnTouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.OnTouchMoveEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchMoveEnd.bind(this),this)},e.prototype.onEnable=function(){this.node_jinYong.active=!1,this.node_wangLuoQingQiu.active=!1,this.node_mengCeng.active=!1},e.prototype.Init=function(t){void 0===t&&(t=!1),t?(this.node_wangLuoQingQiu.active=!0,this.node_mengCeng.active=!0,this.isShowJinYong=!0):this.isShowJinYong=!1},e.prototype.OnTouchStart=function(t){if(!this.isShowJinYong){var e=t.getLocation();this.node_jinYong.setPosition(this.node.convertToNodeSpaceAR(e)),this.node_jinYong.active=!0}},e.prototype.OnTouchMove=function(t){if(!this.isShowJinYong){t.getStartLocation();var e=t.getLocation();this.node_jinYong.setPosition(this.node.convertToNodeSpaceAR(e))}},e.prototype.OnTouchMoveEnd=function(t){var e=t.getLocation();this.node_jinYong.setPosition(this.node.convertToNodeSpaceAR(e)),this.node_jinYong.active=!1},o([s(cc.Node)],e.prototype,"node_jinYong",void 0),o([s(cc.Node)],e.prototype,"node_wangLuoQingQiu",void 0),o([s(cc.Node)],e.prototype,"node_mengCeng",void 0),e=o([i],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"e0cd2sRJnFGkbmE879tvukm","SoundManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager=n.MusicType=void 0;var a=t("../Data/FrameConstValue"),o=t("../Data/FrameMsgType"),r=t("../Http/NetWork"),i=t("../SDK/GameMsg"),s=t("./ListenerManager");(function(t){t.BGM_MUSIC="BGM_MUSIC",t.TITLE_AUDIO="TITLE_AUDIO",t.GAME_EFFECT="GAME_EFFECT",t.GAME_AUDIO="GAME_AUDIO"})(n.MusicType||(n.MusicType={}));var c=function(){function t(){this.playing_sound=new Object,this.bgm="",this.bgmIndex=-1,this._audioList=new Map,this._effectList=new Map,this._referenceList=new Map,this._titleID=null,this._audioClipMap=new Map,this.MUSIC_BGM="bgm",this.AUDIO_TITLE="audio_sound"}return t.prototype.start=function(){i.default.addEvent(o.FrameMsgType.PLAYBGM,this.playBGM.bind(this)),i.default.addEvent(o.FrameMsgType.RESUMEBGM,this.resumeBGM.bind(this)),i.default.addEvent(o.FrameMsgType.STOPBGM,this.stopBGM.bind(this)),i.default.addEvent(o.FrameMsgType.PLAYAUDIOTITLE,this.playAudioTitle.bind(this)),i.default.addEvent(o.FrameMsgType.STOPAUDIOTITLE,this.stopAudioTitle.bind(this)),i.default.addEvent(o.FrameMsgType.STOPALLAUDIO,this.stopAllAudio.bind(this)),i.default.addEvent(o.FrameMsgType.STOPALLEFFECT,this.stopAllEffect.bind(this)),i.default.addEvent(o.FrameMsgType.STOPALL,this.stopAll.bind(this))},t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},t.prototype.getAudioClip=function(t){return this._audioClipMap.has(t)?this._audioClipMap.get(t):(cc.log("\u672a\u7f13\u5b58\u7684\u97f3\u9891\u8d44\u6e90: "+t),null)},t.prototype.preLoadResAudio=function(t){var e=this,n=a.FrameConstValue.GAME_AUDIO_DIR;cc.resources.loadDir(n,cc.AudioClip,function(n,a){if(n)return cc.error(n),void t(!1);a.forEach(function(t){cc.log("\u7f13\u5b58\u5b8c\u6bd5! ele.name == "+t.name),e._audioClipMap.set(t.name,t),e._referenceList.set(t.name,0)}),t(!0)})},t.prototype.preLoadFrameAudio=function(t){var e=this,n=a.FrameConstValue.FRAME_AUDIO_DIR;cc.assetManager.loadBundle("frameRes",function(a,o){if(a)return cc.error(a),void t(!1);o.loadDir(n,cc.AudioClip,function(n,a){if(n)return cc.error(n),void t(!1);a.forEach(function(t){cc.log("\u7f13\u5b58\u5b8c\u6bd5! ele.name == "+t.name),e._audioClipMap.set(t.name,t),e._referenceList.set(t.name,0)}),t(!0)})})},t.prototype.preLoadAllAudioClips=function(t){var e=!1,n=!1;this.preLoadResAudio(function(a){a&&cc.log("\u7f13\u5b58\u5b8c\u6bd5! preLoadResAudio "),(e=!0)&&n&&t(!0)}.bind(this)),this.preLoadFrameAudio(function(a){a&&cc.log("\u7f13\u5b58\u5b8c\u6bd5! preLoadFrameAudio "),n=!0,e&&n&&t(!0)}.bind(this))},t.prototype.preloadAudioClipName=function(t,e){var n=this,o=a.FrameConstValue.GAME_AUDIO_DIR+t;cc.log("preloadAudioClipName path == "+o),cc.resources.load(o,cc.AudioClip,function(a,o){if(a)cc.error(a);else{var r=o;n._audioClipMap.set(t,r),n._referenceList.set(t,0),cc.log("\u7f13\u5b58\u5b8c\u6bd5!"),e()}})},t.prototype.playBGM=function(t){var e=this;if(void 0===t&&(t=""),"blackboard"!=r.NetWork.channel&&!Boolean(r.NetWork.isSync)){""==t&&(t=this.MUSIC_BGM),this.bgm=t,this.bgmIndex=-1,cc.audioEngine.stopMusic();var n=a.FrameConstValue.GAME_AUDIO_DIR+t;cc.resources.load(n,cc.AudioClip,function(t,n){if(t)cc.error(t);else{var a=n;e.bgmIndex=cc.audioEngine.playMusic(a,!0)}})}},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=a.FrameConstValue.GAME_AUDIO_DIR+this.bgm;cc.resources.load(t,cc.AudioClip,function(t,e){if(t)cc.error(t);else{var n=e;cc.audioEngine.playMusic(n,!0)}})},t.prototype.stopBGM=function(){this.bgm="",this.bgmIndex=-1,cc.audioEngine.stopMusic()},t.prototype.setMusicVolume=function(t,e){var n=this;if(void 0===e&&(e=0),-1!=this.bgmIndex)if(t=cc.misc.clamp01(t),0==e)cc.audioEngine.setVolume(this.bgmIndex,t);else{var a={v:cc.audioEngine.getVolume(this.bgmIndex)};cc.tween(a).to(e,{v:t},{progress:function(t,e,a,o){var r=t+(e-t)*o;cc.audioEngine.setVolume(n.bgmIndex,r)}}).start()}},t.prototype.playAudioTitle=function(t,e,n,a,o){void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===a&&(a=!1),void 0===o&&(o=null),this.playAudio(t,e,n,a,o,!0)},t.prototype.stopAudioTitle=function(){var t=this;this._audioList.forEach(function(e,n){null!=t._titleID&&t._titleID===e&&(t._audioList.delete(n),cc.audioEngine.stopEffect(e))}),this._titleID=null,s.ListenerManager.dispatch(o.FrameMsgType.COMPLETE_TRUMPET)},t.prototype.playAudio=function(t,e,a,o,r,i){var s=this;if(void 0===a&&(a=!0),void 0===o&&(o=!1),void 0===r&&(r=null),void 0===i&&(i=!1),t){a&&this.stopAllAudio(),o&&this.stopAllEffect();var c=null;if("string"==typeof t){if(null==(c=this.getAudioClip(t)))return void n.SoundManager.preloadAudioClipName(t,function(){c=this._audioClipMap.get(t),this.playAudio(c,e,a,o,r,i)}.bind(this))}else c=t;var l=cc.audioEngine.playEffect(c,e);i&&(this._titleID=l,cc.log("this._titleID == "+this._titleID)),this._audioList.set(c.name,l);var u=this._referenceList.get(c.name);this._referenceList.set(c.name,u++),cc.audioEngine.setFinishCallback(l,function(){var t=s._referenceList.get(c.name);t--<=0&&s.stopSoundByName(c.name),s._referenceList.set(c.name,t<0?0:t),setTimeout(function(){r&&r()},100)})}},t.prototype.playEffect=function(t,e,a,o,r){var i=this;if(void 0===a&&(a=!0),void 0===o&&(o=!1),void 0===r&&(r=null),t){a&&this.stopAllEffect(),o&&this.stopAllAudio();var s=null;if("string"==typeof t){if(null==(s=this.getAudioClip(t)))return void n.SoundManager.preloadAudioClipName(t,function(){s=this._audioClipMap.get(t),this.playEffect(s,e,a,o,r)}.bind(this))}else s=t;var c=cc.audioEngine.playEffect(s,e);this._effectList.set(s.name,c);var l=this._referenceList.get(s.name);this._referenceList.set(s.name,l++),cc.audioEngine.setFinishCallback(c,function(){var t=i._referenceList.get(s.name);t--<=0&&i.stopSoundByName(s.name),i._referenceList.set(s.name,t<0?0:t),setTimeout(function(){r&&r()},100)})}},t.prototype.setEffectVolume=function(t){t=cc.misc.clamp01(t),this._audioList.forEach(function(e,n){cc.audioEngine.setVolume(e,t)})},t.prototype.stopAllAudio=function(){var t=this;this._audioList.forEach(function(e,n){null!=t._titleID&&t._titleID===e&&s.ListenerManager.dispatch(o.FrameMsgType.COMPLETE_TRUMPET),t._referenceList.set(n,0),cc.audioEngine.stopEffect(e)}),this._audioList=new Map,this._titleID=null},t.prototype.stopAllEffect=function(){var t=this;this._effectList.forEach(function(e,n){t._referenceList.set(n,0),cc.audioEngine.stopEffect(e)}),this._effectList=new Map},t.prototype.stopSoundByName=function(t){this._referenceList.set(t,0);var e=this._audioList.get(t);null!=e&&-1!=e&&(cc.audioEngine.stop(e),this._audioList.delete(t)),null!=(e=this._effectList.get(t))&&-1!=e&&(cc.audioEngine.stop(e),this._effectList.delete(t))},t.prototype.stopAll=function(){this.stopAllAudio(),this.stopAllEffect(),cc.audioEngine.stopAll()},t.prototype.isPlaying=function(t){var e=this._audioList.get(t);return null!=e&&-1!=e||null!=(e=this._effectList.get(t))&&-1!=e},t._instance=null,t}();n.SoundManager=c.getInstance(),cc._RF.pop()},{"../Data/FrameConstValue":"FrameConstValue","../Data/FrameMsgType":"FrameMsgType","../Http/NetWork":"NetWork","../SDK/GameMsg":"GameMsg","./ListenerManager":"ListenerManager"}],StarCount:[function(t,e,n){"use strict";cc._RF.push(e,"a1fbe+gSexDOJnHjY6RnoVI","StarCount");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../../Manager/SoundManager"),i=t("../../Utils/Tools"),s=t("../BaseFrameUI"),c=t("../../../../game/scripts/Manager/EditorManager"),l=t("../../Manager/ReportManager"),u=t("../../Utils/UIHelp"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine_youxiao=null,e.spine_xiaodi=null,e.btn_replay=null,e.audioList=["","star_good","star_great","star_perfect"],e}return a(e,t),e.prototype.start=function(){},e.prototype.showStars=function(t,e){var n=0;n=void 0===e||null===e?l.ReportManager.getStarCount():e,r.SoundManager.playEffect(this.audioList[n],!1);var a=0===c.EditorManager.getCoursewareLevel()?this.spine_youxiao:this.spine_xiaodi;a.node.active=!0,i.Tools.playSpine(a,"in_0"+n,!1,function(){i.Tools.playSpine(a,"idle_0"+n,!0)}),this.btn_replay&&(this.btn_replay.active=t),u.UIHelp.closeMask()},e.className="StarCount",o([f(sp.Skeleton)],e.prototype,"spine_youxiao",void 0),o([f(sp.Skeleton)],e.prototype,"spine_xiaodi",void 0),o([f(cc.Node)],e.prototype,"btn_replay",void 0),e=o([h],e)}(s.default);n.default=d,cc._RF.pop()},{"../../../../game/scripts/Manager/EditorManager":"EditorManager","../../Manager/ReportManager":"ReportManager","../../Utils/Tools":"Tools","../../Utils/UIHelp":"UIHelp","../BaseFrameUI":"BaseFrameUI","./../../Manager/SoundManager":"SoundManager"}],SubmissionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bdbeagD9lJH1p1yPQBbNwPK","SubmissionPanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Http/NetWork"),i=t("../BaseFrameUI"),s=t("../../Utils/UIHelp"),c=t("../../../../game/scripts/Data/ConstValue"),l=t("../../../../game/scripts/Manager/EditorManager"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.start=function(){},e.prototype.onQueDingBtnClick=function(t){this.DetectionNet()},e.prototype.onQuXiaoBtnClick=function(t){s.UIHelp.closeSubmissionPanel()},e.prototype.DetectionNet=function(){var t=this;if(r.NetWork.titleId){var e=JSON.stringify({CoursewareKey:c.ConstValue.CoursewareKey,data:l.EditorManager.getData()});r.NetWork.httpRequest(r.NetWork.GET_TITLE+"?title_id="+r.NetWork.titleId,"GET","application/json;charset=utf-8",function(n,a){if(!n)if(null==a.data.courseware_content||""==a.data.courseware_content)t.AddNet(e);else{r.NetWork.coursewareId=a.data.courseware_id;var o=JSON.parse(a.data.courseware_content);r.NetWork.empty||(o.CoursewareKey==c.ConstValue.CoursewareKey?t.ModifyNet(e):s.UIHelp.showErrorPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+r.NetWork.titleId,"","","\u786e\u5b9a"))}},null)}else s.UIHelp.showErrorPanel("titleId\u4e3a\u7a7a,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+r.NetWork.titleId,"","","\u786e\u5b9a")},e.prototype.AddNet=function(t){var e={title_id:r.NetWork.titleId,courseware_content:t,is_result:1,is_lavel:1,lavel_num:l.EditorManager.getLevelCount()};r.NetWork.httpRequest(r.NetWork.ADD,"POST","application/json;charset=utf-8",function(t,e){t||(s.UIHelp.showTip("\u7b54\u6848\u63d0\u4ea4\u6210\u529f"),s.UIHelp.closeSubmissionPanel())},JSON.stringify(e))},e.prototype.ModifyNet=function(t){var e={courseware_id:r.NetWork.coursewareId,courseware_content:t,is_result:1,is_lavel:1,lavel_num:l.EditorManager.getLevelCount()};r.NetWork.httpRequest(r.NetWork.MODIFY,"POST","application/json;charset=utf-8",function(t,e){t||(s.UIHelp.showTip("\u7b54\u6848\u4fee\u6539\u6210\u529f"),s.UIHelp.closeSubmissionPanel())},JSON.stringify(e))},e.className="SubmissionPanel",e=o([p],e)}(i.default));n.default=h,cc._RF.pop()},{"../../../../game/scripts/Data/ConstValue":"ConstValue","../../../../game/scripts/Manager/EditorManager":"EditorManager","../../Http/NetWork":"NetWork","../../Utils/UIHelp":"UIHelp","../BaseFrameUI":"BaseFrameUI"}],SyncDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"30e46ZgmPlO+5CRM3r8Ls4a","SyncDataManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SyncDataManager=n.SyncData=void 0;var a=t("../../../frame/scripts/Data/FrameSyncData"),o=t("../../../frame/scripts/Manager/ReportManager"),r=t("../../../game/scripts/Data/CustomSyncData"),i=function(){return function(){this.reportData=null,this.customSyncData=new r.CustomSyncData,this.frameSyncData=new a.FrameSyncData}}();n.SyncData=i;var s=function(){function t(){this._syncData=new i}return t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},Object.defineProperty(t.prototype,"syncData",{get:function(){return this.getSyncData()},set:function(t){this.setSyncData(t)},enumerable:!1,configurable:!0}),t.prototype.initSyncData=function(){this._syncData=new i},t.prototype.getSyncData=function(){return this._syncData.reportData=o.ReportManager.getSyncData(),this._syncData},t.prototype.setSyncData=function(t){this._syncData=t,o.ReportManager.setSyncData(t.reportData)},t.prototype.replay=function(){var t=this._syncData.frameSyncData.actionId,e=this._syncData.frameSyncData.hasReplayCount+1;this._syncData=new i,this._syncData.frameSyncData.actionId=t,this._syncData.frameSyncData.hasReplayCount=e,this._syncData.customSyncData.replay&&this._syncData.customSyncData.replay()},t._instance=null,t}();n.SyncDataManager=s.getInstance(),cc._RF.pop()},{"../../../frame/scripts/Data/FrameSyncData":"FrameSyncData","../../../frame/scripts/Manager/ReportManager":"ReportManager","../../../game/scripts/Data/CustomSyncData":"CustomSyncData"}],T2M:[function(t,e,n){"use strict";cc._RF.push(e,"a7e393z1URF/Jne7MDcTxH+","T2M");var a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],i=0,s=r.length;i<s;i++,o++)a[o]=r[i];return a};Object.defineProperty(n,"__esModule",{value:!0}),n.T2M=n.T2MClass=void 0;var o=t("../Data/FrameMsgType"),r=t("../Http/NetWork"),i=t("../Manager/ListenerManager"),s=t("../Manager/SyncDataManager"),c=t("../Utils/UIHelp"),l=t("./GameMsg"),u=function(){return function(){this.type="",this.syncData=JSON.parse(JSON.stringify(s.SyncDataManager.getSyncData())),this.data=null}}(),p=function(){function t(){this._map=new Map,this._isSync=!1,this._isInit=!1,this._cacheList=[],this._waitRunActionList=[],this._sendTime=0,this._lastEventTime=0,this._isRecover=!1}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.init=function(){this._isInit||(this.setSync(r.NetWork.isSync),l.default.recv_sync_data(this.actionSyncHandler.bind(this)),this._lastSendTime=Date.now(),this.addSyncEventListener(o.FrameMsgType.ON_HEART_BREAK,this.onHeartBreak.bind(this)),this._isInit=!0)},t.prototype.setSync=function(t){this._isSync=t},t.prototype.addSyncEventListener=function(t,e){this._map.set(t,e)},t.prototype.removeSyncEventListener=function(t){this._map.has(t)&&this._map.delete(t)},t.prototype.dispatch=function(t,e,n){if(void 0===n&&(n=!0),this._isSync){var a=new u;a.type=t,a.data=e,o.FrameMsgType.ON_HEART_BREAK!==t&&(a.syncData=null),n?this._cacheList.push(a):(l.default.send_sync_data([a]),this._sendTime=Date.now())}else this._map.has(t)?this._map.get(t)(e):console.log("Listener type is null! type = "+t)},t.prototype.onHeartBreak=function(t){r.NetWork.isTeacher||(s.SyncDataManager.syncData.frameSyncData.actionId!==t.frameSyncData.actionId&&i.ListenerManager.dispatch(o.FrameMsgType.ON_RECOVERY_DATA,t),this._isRecover||(this._isRecover=!0,c.UIHelp.closeRecoverMask(),i.ListenerManager.dispatch(o.FrameMsgType.ON_FIRST_BREAK,null)))},t.prototype.update=function(){this._isInit&&(this.sendSyncEvent(),this.sendHeartBreak(),this.runActions())},t.prototype.sendSyncEvent=function(){Date.now()-this._lastSendTime>=50&&(this._cacheList.length>0&&(l.default.send_sync_data(this._cacheList),this._cacheList=[],this._sendTime=Date.now()),this._lastSendTime=Date.now())},t.prototype.sendHeartBreak=function(){if(Date.now()-this._sendTime>3e3&&r.NetWork.isTeacher){var t=s.SyncDataManager.getSyncData();this.dispatch(o.FrameMsgType.ON_HEART_BREAK,t,!1),this._sendTime=Date.now()}},t.prototype.actionSyncHandler=function(t){var e=t.data;1===e.length&&o.FrameMsgType.ON_HEART_BREAK===e[0].type?Date.now()-this._lastEventTime>2e3&&(0==this._waitRunActionList.length?this._waitRunActionList=a(e):this._waitRunActionList=a(this._waitRunActionList,e)):(r.NetWork.isTeacher||this._isRecover)&&(0==this._waitRunActionList.length?this._waitRunActionList=a(e):this._waitRunActionList=a(this._waitRunActionList,e),this._lastEventTime=Date.now())},t.prototype.runActions=function(){var t=this._waitRunActionList.length;if(t>0){var e=Date.now()-this._lastUpdateTime,n=Math.floor(e/7),a=Math.min(t,n),r=this._waitRunActionList[0];if(o.FrameMsgType.ON_HEART_BREAK!==r.type)for(var i=0;i<a;i++){var c=this._waitRunActionList.shift();this._map.has(c.type)&&this._map.get(c.type)(c.data),++s.SyncDataManager.syncData.frameSyncData.actionId}else this._waitRunActionList.shift(),this._map.get(r.type)(r.data)}this._lastUpdateTime=Date.now()},t._instance=null,t}();n.T2MClass=p,n.T2M=p.getInstance(),cc._RF.pop()},{"../Data/FrameMsgType":"FrameMsgType","../Http/NetWork":"NetWork","../Manager/ListenerManager":"ListenerManager","../Manager/SyncDataManager":"SyncDataManager","../Utils/UIHelp":"UIHelp","./GameMsg":"GameMsg"}],TeacherPanel:[function(t,e,n){"use strict";cc._RF.push(e,"70c27EBmWdPJYtgMQ9dyPZS","TeacherPanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../frame/scripts/Manager/UIManager"),i=t("../../../../frame/scripts/UI/Panel/BaseTeacherPanel"),s=t("../../../../frame/scripts/UI/Panel/SubmissionPanel"),c=t("../../Manager/EditorManager"),l=t("./GamePanel"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleContainer_star=null,e.toggleContainer_again=null,e.toggleContainer_autoSound=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.setPanel=function(){t.prototype.setPanel.call(this),this.toggleContainer_star.toggleItems[c.EditorManager.editorData.isStarCount?0:1].isChecked=!0,this.toggleContainer_again.toggleItems[c.EditorManager.editorData.isReplay?0:1].isChecked=!0,this.toggleContainer_autoSound.toggleItems[c.EditorManager.editorData.isAutoSound?0:1].isChecked=!0},e.prototype.onToggleStar=function(t){var e=this.toggleContainer_star.toggleItems.indexOf(t);c.EditorManager.editorData.isStarCount=0===e},e.prototype.onToggleReplay=function(t){var e=this.toggleContainer_again.toggleItems.indexOf(t);c.EditorManager.editorData.isReplay=0===e},e.prototype.onToggleAutoSound=function(t){var e=this.toggleContainer_autoSound.toggleItems.indexOf(t);c.EditorManager.editorData.isAutoSound=0===e},e.prototype.onBtnSaveClicked=function(){r.UIManager.showUI(s.default)},e.prototype.onBtnViewClicked=function(){r.UIManager.showUI(l.default)},e.className="TeacherPanel",o([h(cc.ToggleContainer)],e.prototype,"toggleContainer_star",void 0),o([h(cc.ToggleContainer)],e.prototype,"toggleContainer_again",void 0),o([h(cc.ToggleContainer)],e.prototype,"toggleContainer_autoSound",void 0),e=o([p],e)}(i.default);n.default=f,cc._RF.pop()},{"../../../../frame/scripts/Manager/UIManager":"UIManager","../../../../frame/scripts/UI/Panel/BaseTeacherPanel":"BaseTeacherPanel","../../../../frame/scripts/UI/Panel/SubmissionPanel":"SubmissionPanel","../../Manager/EditorManager":"EditorManager","./GamePanel":"GamePanel"}],TipUI:[function(t,e,n){"use strict";cc._RF.push(e,"04f62OpblhMYb6+AOI+oOHr","TipUI");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.TipUI=void 0;var r=t("../BaseFrameUI"),i=t("../Item/Tip"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return a(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;e++)if(!this.tipPool[e].isReady())return this.tipPool[e].reset(),void this.tipPool[e].playTip(t);for(var n=0;n<this.tipPool.length;++n)if(null!=this.tipPool[n]&&this.tipPool[n].isReady())return this.tipPool[n].node.setSiblingIndex(200),void this.tipPool[n].playTip(t);var a=cc.instantiate(this.tipPrefab);a.parent=this.node;var o=a.getComponent(i.Tip);this.tipPool.push(o),o.playTip(t)},e.className="TipUI",o([l(cc.Prefab)],e.prototype,"tipPrefab",void 0),e=o([c],e)}(r.default);n.TipUI=u,cc._RF.pop()},{"../BaseFrameUI":"BaseFrameUI","../Item/Tip":"Tip"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"c7373SoEY5LDIC2BLTSmOq3","Tip");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.Tip=void 0;var r=cc._decorator,i=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.neiRongNode=null,e.tipLabel=null,e.ready=!0,e}return a(e,t),e.prototype.playTip=function(t){var e=this;this.neiRongNode.active=!0,this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset(),cc.tween(this.node).delay(1).to(.5,{y:128,opacity:0}).call(function(){e.ready=!0}).start()},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},o([s(cc.Node)],e.prototype,"neiRongNode",void 0),o([s(cc.Label)],e.prototype,"tipLabel",void 0),e=o([i],e)}(cc.Component);n.Tip=c,cc._RF.pop()},{}],TitleNode:[function(t,e,n){"use strict";cc._RF.push(e,"b276fOW8MRNTqj/bpy0hngz","TitleNode");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Data/FrameMsgType"),i=t("../../Manager/ListenerManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bianJiLabel=null,e.jianYanLabel=null,e.tiaoNode=null,e.heiSe=cc.color(0,0,0),e.huiSe=cc.color(127,127,127),e}return a(e,t),e.prototype.start=function(){this.bianJiLabel.node.color=this.heiSe,this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe,i.ListenerManager.on(r.FrameMsgType.ON_EDIT_STATE_SWITCHING,this.onStateSwitching,this)},e.prototype.onStateSwitching=function(t){0===t?(this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe):(this.jianYanLabel.node.color=this.heiSe,this.tiaoNode.color=this.heiSe)},o([l(cc.Label)],e.prototype,"bianJiLabel",void 0),o([l(cc.Label)],e.prototype,"jianYanLabel",void 0),o([l(cc.Node)],e.prototype,"tiaoNode",void 0),e=o([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../Manager/ListenerManager":"ListenerManager"}],Tools:[function(t,e,n){"use strict";cc._RF.push(e,"8c9926FhnVH2Z4Gs2ZXOlDV","Tools");var a=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.Tools=n.ArtMoveParam=void 0;var o=function(){return function(t,e){this.time=0,this.pos=cc.Vec3.ZERO,this.time=t,this.pos=e}}();n.ArtMoveParam=o;var r=cc._decorator,i=r.ccclass,s=(r.property,function(){function t(){}return t.playSpine=function(t,e,n,a){void 0===a&&(a=null),t.setAnimation(0,e,n)&&t.setCompleteListener(function(t,n){(t.animation?t.animation.name:"")===e&&a&&a()})},t.getQueryVariable=function(t){if((e=window.location.href.split("?")).length<2)return!1;for(var e=e[1].split("&"),n=0;n<e.length;n++){var a=e[n].split("=");if(a[0]==t)return a[1]}return!1},t.runArtMoveSequence=function(t,e,n){void 0===n&&(n=null);var a=t.position.sub(e[e.length-1].pos);function o(t){return t.add(a)}if(t.setPosition(o(e[0].pos)),e.length<=1)n&&n();else{for(var r=[],i=1;i<e.length-1;i++){var s=.001*(e[i].time-e[i-1].time),c=o(e[i].pos);r.push(cc.moveTo(s,cc.v2(c.x,c.y)))}n&&r.push(cc.callFunc(n)),t.runAction(cc.sequence(r))}},t.getNowTimeMS=function(){return(new Date).getTime()},t.getNowTimeS=function(){return Math.floor(.001*(new Date).getTime())},t.getFormatTime=function(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var n=t%60;return n<10&&(n="0"+n),e+":"+n},t=a([i],t)}());n.Tools=s,cc._RF.pop()},{}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"c44e6cLg85JzaIFNvBdsH7x","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0}),n.UIHelp=void 0;var a=t("../../../game/scripts/UI/panel/GamePanel"),o=t("../../../game/scripts/UI/panel/TeacherPanel"),r=t("../Data/FrameMsgType"),i=t("../Manager/ListenerManager"),s=t("../Manager/UIManager"),c=t("../UI/Panel/AffirmTips"),l=t("../UI/Panel/ErrorPanel"),u=t("../UI/Panel/OverTips"),p=t("../UI/Panel/StarCount"),h=t("../UI/Panel/SubmissionPanel"),f=t("../UI/Panel/TipUI"),d=t("../UI/Panel/UploadAndReturnPanel"),y=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.showTip=function(t){var e=this,n=s.UIManager.getUI(f.TipUI);n?n.showTip(t):s.UIManager.openUI(f.TipUI,null,s.EPANEL_ZORDER.TIPS,function(){e.showTip(t)})},t.prototype.showOverTips=function(t,e,n,a,o,r,i){var c=this;void 0===e&&(e=""),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=!0);var l=s.UIManager.getUI(u.OverTips);l?l.init(t,e,n,a,o,r,i):s.UIManager.openUI(u.OverTips,null,s.EPANEL_ZORDER.POPUP,function(){c.showOverTips(t,e,n,a,o,i)})},t.prototype.closeOverTips=function(){s.UIManager.closeUI(u.OverTips)},t.prototype.showStarCount=function(t,e){var n=this,a=s.UIManager.getUI(p.default);a?a.showStars(t,e):s.UIManager.openUI(p.default,null,s.EPANEL_ZORDER.POPUP,function(){n.showStarCount(t,e)})},t.prototype.closeStarCount=function(){s.UIManager.closeUI(p.default)},t.prototype.showAffirmTip=function(t,e,n,a,o){var r=this,i=s.UIManager.getUI(c.AffirmTips);i?i.init(t,e,n,a,o):s.UIManager.openUI(c.AffirmTips,null,s.EPANEL_ZORDER.POPUP,function(){r.showAffirmTip(t,e,n,a,o)})},t.prototype.closeAffirmTip=function(){s.UIManager.closeUI(c.AffirmTips)},t.prototype.showErrorPanel=function(t,e,n,a,o,r){var i=this;void 0===r&&(r=!1);var c=s.UIManager.getUI(l.default);c?c.setPanel(t,e,n,a,o,r):s.UIManager.openUI(l.default,null,s.EPANEL_ZORDER.ERROR,function(){i.showErrorPanel(t,e,n,a,o,r)})},t.prototype.closeErrorPanel=function(){s.UIManager.closeUI(l.default)},t.prototype.showUploadAndReturnPanel=function(){s.UIManager.showUI(d.default,null,s.EPANEL_ZORDER.SUBMISSION)},t.prototype.closeUploadAndReturnPanel=function(){s.UIManager.closeUI(d.default)},t.prototype.showSubmissionPanel=function(){s.UIManager.showUI(h.default,null,s.EPANEL_ZORDER.SUBMISSION)},t.prototype.closeSubmissionPanel=function(){s.UIManager.closeUI(h.default)},t.prototype.showGamePanel=function(t){s.UIManager.openUI(a.default,null,s.EPANEL_ZORDER.NORMAL,t)},t.prototype.closeGamePanel=function(){s.UIManager.closeUI(a.default)},t.prototype.showTeacherPanel=function(t){s.UIManager.openUI(o.default,null,s.EPANEL_ZORDER.NORMAL,t)},t.prototype.closeTeacherPanel=function(){s.UIManager.closeUI(o.default)},t.prototype.showMask=function(t){void 0===t&&(t=!1),i.ListenerManager.dispatch(r.FrameMsgType.ON_MASK,!0,t)},t.prototype.closeMask=function(){i.ListenerManager.dispatch(r.FrameMsgType.ON_MASK,!1)},t.prototype.showRecoverMask=function(){i.ListenerManager.dispatch(r.FrameMsgType.MASK_RECOVER,!0)},t.prototype.closeRecoverMask=function(){i.ListenerManager.dispatch(r.FrameMsgType.MASK_RECOVER,!1)},t._instance=null,t}();n.UIHelp=y.getInstance(),cc._RF.pop()},{"../../../game/scripts/UI/panel/GamePanel":"GamePanel","../../../game/scripts/UI/panel/TeacherPanel":"TeacherPanel","../Data/FrameMsgType":"FrameMsgType","../Manager/ListenerManager":"ListenerManager","../Manager/UIManager":"UIManager","../UI/Panel/AffirmTips":"AffirmTips","../UI/Panel/ErrorPanel":"ErrorPanel","../UI/Panel/OverTips":"OverTips","../UI/Panel/StarCount":"StarCount","../UI/Panel/SubmissionPanel":"SubmissionPanel","../UI/Panel/TipUI":"TipUI","../UI/Panel/UploadAndReturnPanel":"UploadAndReturnPanel"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"fcb706mngZPXIeAjofYaIuT","UIManager");var a=this&&this.__awaiter||function(t,e,n,a){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function i(t){try{c(a.next(t))}catch(t){r(t)}}function s(t){try{c(a.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(i,s)}c((a=a.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(t){r=[6,t],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EPANEL_ZORDER=n.UIManager=void 0;var r=t("../UI/BaseUI"),i=function(){function t(){this.uiList=[],this.uiRoot=null,this.stateList=new Object}return t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},t.prototype.openUI=function(t,e,n,a,o){for(var i=this,s=[],c=5;c<arguments.length;c++)s[c-5]=arguments[c];if(this.uiRoot||(this.uiRoot=cc.find("Canvas")),!this.getUI(t))return this.stateList[t.name]=!0,new Promise(function(c,l){var u=function(t,e,n){o&&o(t,e,n)},p=function(o,u){if(o)return cc.log(o),l(o);if(i.getUI(t))return c(!0);if(!i.stateList[t.name])return c(!1);var p=u,h=cc.instantiate(p);h.parent=i.uiRoot,n&&(h.zIndex=n);var f=h.getComponent(r.BaseUI);return f.data=e,f.tag=t,i.uiList.push(f),a&&a(s),c(!0)};t.isFramePanel?cc.assetManager.loadBundle("frameRes",function(e,n){if(e)return cc.error(e),l(e);n.load(t.getUrl(),u,p)}):cc.resources.load(t.getUrl(),u,p)})},t.prototype.closeUI=function(t){this.stateList[t.name]=!1;for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e,n,r){return a(this,void 0,void 0,function(){var a,i;return o(this,function(o){switch(o.label){case 0:return(a=this.getUI(t))?(this.stateList[t.name]=!0,a.data=e,a.node.active=!0,a.onShow(),r&&r(),[2,!0]):[3,1];case 1:return[4,this.openUI(t,e,n)];case 2:return(i=o.sent())&&(r&&r(),this.getUI(t).onShow()),[2,i]}})})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(this.stateList[t.name]=!1,e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t.prototype.getRes=function(t,e,n){return new Promise(function(a,o){cc.resources.load(t,e,function(t,e){return t?(cc.log(t),o(t)):(n&&n(e),a(e))})})},t.prototype.getBundleRes=function(t,e,n,a){return new Promise(function(o,r){cc.assetManager.loadBundle(t,function(t,i){if(t)return cc.error(t),r(t);i.load(e,n,function(t,e){return t?(cc.log(t),r(t)):(a&&a(e),o(e))})})})},t._instance=null,t}();n.UIManager=i.getInstance(),function(t){t[t.NORMAL=1]="NORMAL",t[t.POPUP=10]="POPUP",t[t.MASK=15]="MASK",t[t.TIPS=20]="TIPS",t[t.ERROR=30]="ERROR",t[t.SUBMISSION=40]="SUBMISSION"}(n.EPANEL_ZORDER||(n.EPANEL_ZORDER={})),cc._RF.pop()},{"../UI/BaseUI":"BaseUI"}],UploadAndReturnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8a2a4ho4VlCloJCvzPCR9a/","UploadAndReturnPanel");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../../Manager/ListenerManager"),i=t("../BaseFrameUI"),s=t("../../Data/FrameMsgType"),c=t("../../Utils/UIHelp"),l=t("../../Manager/ReportManager"),u=t("../../Manager/SoundManager"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.POSITION_CHANGED,function(){t.adjustWidget()})},e.prototype.start=function(){r.ListenerManager.dispatch(s.FrameMsgType.ON_EDIT_STATE_SWITCHING,1)},e.prototype.onFanHui=function(){r.ListenerManager.dispatch(s.FrameMsgType.ON_EDIT_STATE_SWITCHING,0),c.UIHelp.closeStarCount(),c.UIHelp.closeGamePanel(),c.UIHelp.closeUploadAndReturnPanel(),c.UIHelp.closeSubmissionPanel(),c.UIHelp.closeOverTips(),l.ReportManager.reportGameOver(),u.SoundManager.stopAll()},e.prototype.onTiJiao=function(){l.ReportManager.isAllOver?c.UIHelp.showSubmissionPanel():c.UIHelp.showTip("\u8bf7\u5148\u5b8c\u6210\u4e00\u904d\u9898\u76ee")},e.prototype.adjustWidget=function(){var t=cc.winSize.height,e=this.getComponent(cc.Widget);e&&(t>this.node.height?e.bottom=(t-this.node.height)/2:e.bottom=0,e.updateAlignment())},e.className="UploadAndReturnPanel",e=o([h],e)}(i.default));n.default=f,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../Manager/ReportManager":"ReportManager","../../Manager/SoundManager":"SoundManager","../../Utils/UIHelp":"UIHelp","../BaseFrameUI":"BaseFrameUI","./../../Manager/ListenerManager":"ListenerManager"}],ViceManger:[function(t,e,n){"use strict";cc._RF.push(e,"2f3fe3P2slFxrhndUvvqK2Z","ViceManger");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../frame/scripts/Manager/SoundManager"),i=t("../../../frame/scripts/Manager/ListenerManager"),s=t("../../../frame/scripts/UI/BaseUI"),c=t("../Data/ListenerType"),l=t("../../../frame/scripts/Utils/Tools"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_titleBg=null,e.label_str=null,e.spine_trumpet=null,e}return a(e,t),e.prototype.start=function(){this.testCode()},e.prototype.testCode=function(){},e.prototype.SetTitle=function(t){this.label_str.string=t},e.prototype.SetTitleState=function(t){this.node.active=t,this.node_titleBg.active=t},e.prototype.playTrumpetAnimation=function(t){t?l.Tools.playSpine(this.spine_trumpet,"idle",!0):this.spine_trumpet.animation=null},e.prototype.playTitle=function(t,e){void 0===e&&(e=c.ListenerType.none);try{r.SoundManager.stopAllEffect(),i.ListenerManager.dispatch(c.ListenerType.gamePanel_SetMaskState,!0),this.playTrumpetAnimation(!0),r.SoundManager.playEffect(t,!1,null,null,function(){i.ListenerManager.dispatch(c.ListenerType.gamePanel_playTitleOver,e)})}catch(t){console.error("\u9898\u5e72\u64ad\u653e\u9519\u8bef",t)}},e.prototype.titlePlayOverSet=function(){r.SoundManager.stopAllEffect(),i.ListenerManager.dispatch(c.ListenerType.gamePanel_SetMaskState,!1),this.playTrumpetAnimation(!1)},e.prototype.playVoice=function(t,e){void 0===e&&(e=c.ListenerType.none),i.ListenerManager.dispatch(c.ListenerType.gamePanel_SetMaskState,!0),r.SoundManager.playEffect(t,!1,null,null,function(){e!=c.ListenerType.none&&i.ListenerManager.dispatch(e,e),i.ListenerManager.dispatch(c.ListenerType.gamePanel_SetMaskState,!1)})},o([h(cc.Node)],e.prototype,"node_titleBg",void 0),o([h(cc.Label)],e.prototype,"label_str",void 0),o([h(sp.Skeleton)],e.prototype,"spine_trumpet",void 0),e=o([p],e)}(s.BaseUI);n.default=f,cc._RF.pop()},{"../../../frame/scripts/Manager/ListenerManager":"ListenerManager","../../../frame/scripts/Manager/SoundManager":"SoundManager","../../../frame/scripts/UI/BaseUI":"BaseUI","../../../frame/scripts/Utils/Tools":"Tools","../Data/ListenerType":"ListenerType"}],protocol:[function(t,e,n){"use strict";cc._RF.push(e,"f0400Scp45N0Z59+iPfVr3G","protocol"),Object.defineProperty(n,"__esModule",{value:!0}),n.SRLanguage=n.SRTextType=n.ExternalAnswerType=n.GameAnswerType=n.GameCommand=n.GameEvent=void 0,function(t){t.GameStart="game_start",t.GameOver="game_over",t.SendSyncData="send_sync_data",t.ExternalAnswerStart="external_answer_start",t.ExternalAnswerOver="external_answer_over",t.StoreData="store_data",t.GetStoreData="get_store_data"}(n.GameEvent||(n.GameEvent={})),function(t){t.RecvSyncData="recv_sync_data",t.ExternalAnswerResponse="external_answer_response",t.RecvStoreData="recv_store_data"}(n.GameCommand||(n.GameCommand={})),function(t){t.SingleChoice="single_choice",t.MultiChoice="multi_choice",t.Fill="fill"}(n.GameAnswerType||(n.GameAnswerType={})),function(t){t.SpeechRecognition="speech_recognition",t.ImageRecognition="image_recognition"}(n.ExternalAnswerType||(n.ExternalAnswerType={})),function(t){t.Word="word",t.Sentence="sentence",t.Paragraph="paragraph"}(n.SRTextType||(n.SRTextType={})),function(t){t.Chinese="cn",t.English="en"}(n.SRLanguage||(n.SRLanguage={})),cc._RF.pop()},{}],replayBtn:[function(t,e,n){"use strict";cc._RF.push(e,"f496fZ+e7dBKotK1z+dphJ7","replayBtn");var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Data/FrameMsgType"),i=t("../../SDK/T2M"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._touchEnable=!0,e}return a(e,t),e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){t._touchEnable&&(t.node.scale=1.1)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){t._touchEnable&&(t._touchEnable=!1,t.node.scale=1,i.T2M.dispatch(r.FrameMsgType.REPLAY_START,null))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.node.scale=1},this)},e.prototype.onEnable=function(){this._touchEnable=!0},e=o([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../Data/FrameMsgType":"FrameMsgType","../../SDK/T2M":"T2M"}]},{},["AbroadGameSDK","ActionSyncManager","protocol","FrameConstValue","FrameMsgType","FrameSyncData","NetWork","ListenerManager","ReportManager","SoundManager","SyncDataManager","UIManager","GameMsg","T2M","AdaptiveScreen","BaseFrameUI","BaseUI","BindNode","GameMain","MaskGlobal","MaskRecover","Tip","TitleNode","replayBtn","AffirmTips","BaseGamePanel","BaseTeacherPanel","ErrorPanel","LoadingUI","OverTips","StarCount","SubmissionPanel","TipUI","UploadAndReturnPanel","AudioPlayExtension","BoundingBoxDemo","BoundingBoxHelp","HitTest","LogWrap","MathUtils","Tools","UIHelp","ConstValue","CustomData","CustomSyncData","EventType","GameData","ListenerType","InfoManger","EditorManager","GameManager","ViceManger","HotArea","ShowJInZhi","GamePanel","TeacherPanel"]);